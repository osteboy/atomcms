(()=>{var e=!1,t=!1,n=[];function i(i){!function(i){n.includes(i)||n.push(i),!t&&!e&&(e=!0,queueMicrotask(s))}(i)}function a(e){let t=n.indexOf(e);-1!==t&&n.splice(t,1)}function s(){e=!1,t=!0;for(let e=0;e<n.length;e++)n[e]();n.length=0,t=!1}var r,o,l,d,c=!0;function u(e){o=e}var h=[],p=[],f=[];function g(e,t){"function"==typeof t?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(t)):(t=e,p.push(t))}function m(e,t){!e._x_attributeCleanups||Object.entries(e._x_attributeCleanups).forEach((([n,i])=>{(void 0===t||t.includes(n))&&(i.forEach((e=>e())),delete e._x_attributeCleanups[n])}))}var v=new MutationObserver(M),b=!1;function y(){v.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),b=!0}function w(){(x=x.concat(v.takeRecords())).length&&!_&&(_=!0,queueMicrotask((()=>{M(x),x.length=0,_=!1}))),v.disconnect(),b=!1}var x=[],_=!1;function T(e){if(!b)return e();w();let t=e();return y(),t}var D=!1,C=[];function M(e){if(D)return void(C=C.concat(e));let t=[],n=[],i=new Map,a=new Map;for(let s=0;s<e.length;s++)if(!e[s].target._x_ignoreMutationObserver&&("childList"===e[s].type&&(e[s].addedNodes.forEach((e=>1===e.nodeType&&t.push(e))),e[s].removedNodes.forEach((e=>1===e.nodeType&&n.push(e)))),"attributes"===e[s].type)){let t=e[s].target,n=e[s].attributeName,r=e[s].oldValue,o=()=>{i.has(t)||i.set(t,[]),i.get(t).push({name:n,value:t.getAttribute(n)})},l=()=>{a.has(t)||a.set(t,[]),a.get(t).push(n)};t.hasAttribute(n)&&null===r?o():t.hasAttribute(n)?(l(),o()):l()}a.forEach(((e,t)=>{m(t,e)})),i.forEach(((e,t)=>{h.forEach((n=>n(t,e)))}));for(let e of n)if(!t.includes(e)&&(p.forEach((t=>t(e))),e._x_cleanups))for(;e._x_cleanups.length;)e._x_cleanups.pop()();t.forEach((e=>{e._x_ignoreSelf=!0,e._x_ignore=!0}));for(let e of t)n.includes(e)||!e.isConnected||(delete e._x_ignoreSelf,delete e._x_ignore,f.forEach((t=>t(e))),e._x_ignore=!0,e._x_ignoreSelf=!0);t.forEach((e=>{delete e._x_ignoreSelf,delete e._x_ignore})),t=null,n=null,i=null,a=null}function E(e){return I(A(e))}function O(e,t,n){return e._x_dataStack=[t,...A(n||e)],()=>{e._x_dataStack=e._x_dataStack.filter((e=>e!==t))}}function S(e,t){let n=e._x_dataStack[0];Object.entries(t).forEach((([e,t])=>{n[e]=t}))}function A(e){return e._x_dataStack?e._x_dataStack:"function"==typeof ShadowRoot&&e instanceof ShadowRoot?A(e.host):e.parentNode?A(e.parentNode):[]}function I(e){let t=new Proxy({},{ownKeys:()=>Array.from(new Set(e.flatMap((e=>Object.keys(e))))),has:(t,n)=>e.some((e=>e.hasOwnProperty(n))),get:(n,i)=>(e.find((e=>{if(e.hasOwnProperty(i)){let n=Object.getOwnPropertyDescriptor(e,i);if(n.get&&n.get._x_alreadyBound||n.set&&n.set._x_alreadyBound)return!0;if((n.get||n.set)&&n.enumerable){let a=n.get,s=n.set,r=n;a=a&&a.bind(t),s=s&&s.bind(t),a&&(a._x_alreadyBound=!0),s&&(s._x_alreadyBound=!0),Object.defineProperty(e,i,{...r,get:a,set:s})}return!0}return!1}))||{})[i],set:(t,n,i)=>{let a=e.find((e=>e.hasOwnProperty(n)));return a?a[n]=i:e[e.length-1][n]=i,!0}});return t}function k(e){let t=(n,i="")=>{Object.entries(Object.getOwnPropertyDescriptors(n)).forEach((([a,{value:s,enumerable:r}])=>{if(!1===r||void 0===s)return;let o=""===i?a:`${i}.${a}`;"object"==typeof s&&null!==s&&s._x_interceptor?n[a]=s.initialize(e,o,a):(e=>"object"==typeof e&&!Array.isArray(e)&&null!==e)(s)&&s!==n&&!(s instanceof Element)&&t(s,o)}))};return t(e)}function N(e,t=(()=>{})){let n={initialValue:void 0,_x_interceptor:!0,initialize(t,n,i){return e(this.initialValue,(()=>function(e,t){return t.split(".").reduce(((e,t)=>e[t]),e)}(t,n)),(e=>L(t,n,e)),n,i)}};return t(n),e=>{if("object"==typeof e&&null!==e&&e._x_interceptor){let t=n.initialize.bind(n);n.initialize=(i,a,s)=>{let r=e.initialize(i,a,s);return n.initialValue=r,t(i,a,s)}}else n.initialValue=e;return n}}function L(e,t,n){if("string"==typeof t&&(t=t.split(".")),1!==t.length){if(0===t.length)throw error;return e[t[0]]||(e[t[0]]={}),L(e[t[0]],t.slice(1),n)}e[t[0]]=n}var P={};function H(e,t){P[e]=t}function $(e,t){return Object.entries(P).forEach((([n,i])=>{Object.defineProperty(e,`$${n}`,{get(){let[e,n]=ne(t);return e={interceptor:N,...e},g(t,n),i(t,e)},enumerable:!1})})),e}function j(e,t,n,...i){try{return n(...i)}catch(n){F(n,e,t)}}function F(e,t,n=undefined){Object.assign(e,{el:t,expression:n}),console.warn(`Alpine Expression Error: ${e.message}\n\n${n?'Expression: "'+n+'"\n\n':""}`,t),setTimeout((()=>{throw e}),0)}var R=!0;function Y(e,t,n={}){let i;return V(e,t)((e=>i=e),n),i}function V(...e){return B(...e)}var B=W;function W(e,t){let n={};$(n,e);let i=[n,...A(e)];if("function"==typeof t)return function(e,t){return(n=(()=>{}),{scope:i={},params:a=[]}={})=>{z(n,t.apply(I([i,...e]),a))}}(i,t);let a=function(e,t,n){let i=function(e,t){if(q[e])return q[e];let n=Object.getPrototypeOf((async function(){})).constructor,i=/^[\n\s]*if.*\(.*\)/.test(e)||/^(let|const)\s/.test(e)?`(() => { ${e} })()`:e,a=(()=>{try{return new n(["__self","scope"],`with (scope) { __self.result = ${i} }; __self.finished = true; return __self.result;`)}catch(n){return F(n,t,e),Promise.resolve()}})();return q[e]=a,a}(t,n);return(a=(()=>{}),{scope:s={},params:r=[]}={})=>{i.result=void 0,i.finished=!1;let o=I([s,...e]);if("function"==typeof i){let e=i(i,o).catch((e=>F(e,n,t)));i.finished?(z(a,i.result,o,r,n),i.result=void 0):e.then((e=>{z(a,e,o,r,n)})).catch((e=>F(e,n,t))).finally((()=>i.result=void 0))}}}(i,t,e);return j.bind(null,e,t,a)}var q={};function z(e,t,n,i,a){if(R&&"function"==typeof t){let s=t.apply(n,i);s instanceof Promise?s.then((t=>z(e,t,n,i))).catch((e=>F(e,a,t))):e(s)}else e(t)}var U="x-";function K(e=""){return U+e}var J={};function Z(e,t){J[e]=t}function X(e,t,n){if(t=Array.from(t),e._x_virtualDirectives){let n=Object.entries(e._x_virtualDirectives).map((([e,t])=>({name:e,value:t}))),i=G(n);n=n.map((e=>i.find((t=>t.name===e.name))?{name:`x-bind:${e.name}`,value:`"${e.value}"`}:e)),t=t.concat(n)}let i={};return t.map(ae(((e,t)=>i[e]=t))).filter(oe).map(function(e,t){return({name:n,value:i})=>{let a=n.match(le()),s=n.match(/:([a-zA-Z0-9\-:]+)/),r=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],o=t||e[n]||n;return{type:a?a[1]:null,value:s?s[1]:null,modifiers:r.map((e=>e.replace(".",""))),expression:i,original:o}}}(i,n)).sort(ue).map((t=>function(e,t){let n=()=>{},i=J[t.type]||n,[a,s]=ne(e);!function(e,t,n){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[t]||(e._x_attributeCleanups[t]=[]),e._x_attributeCleanups[t].push(n)}(e,t.original,s);let r=()=>{e._x_ignore||e._x_ignoreSelf||(i.inline&&i.inline(e,t,a),i=i.bind(i,e,t,a),Q?ee.get(te).push(i):i())};return r.runCleanups=s,r}(e,t)))}function G(e){return Array.from(e).map(ae()).filter((e=>!oe(e)))}var Q=!1,ee=new Map,te=Symbol();function ne(e){let t=[],[n,i]=function(e){let t=()=>{};return[n=>{let i=o(n);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach((e=>e()))}),e._x_effects.add(i),t=()=>{void 0!==i&&(e._x_effects.delete(i),l(i))},i},()=>{t()}]}(e);return t.push(i),[{Alpine:Ke,effect:n,cleanup:e=>t.push(e),evaluateLater:V.bind(V,e),evaluate:Y.bind(Y,e)},()=>t.forEach((e=>e()))]}var ie=(e,t)=>({name:n,value:i})=>(n.startsWith(e)&&(n=n.replace(e,t)),{name:n,value:i});function ae(e=(()=>{})){return({name:t,value:n})=>{let{name:i,value:a}=se.reduce(((e,t)=>t(e)),{name:t,value:n});return i!==t&&e(i,t),{name:i,value:a}}}var se=[];function re(e){se.push(e)}function oe({name:e}){return le().test(e)}var le=()=>new RegExp(`^${U}([^:^.]+)\\b`);var de="DEFAULT",ce=["ignore","ref","data","id","tabs","radio","switch","disclosure","bind","init","for","mask","model","modelable","transition","show","if",de,"teleport"];function ue(e,t){let n=-1===ce.indexOf(e.type)?de:e.type,i=-1===ce.indexOf(t.type)?de:t.type;return ce.indexOf(n)-ce.indexOf(i)}function he(e,t,n={}){e.dispatchEvent(new CustomEvent(t,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}var pe=[],fe=!1;function ge(e=(()=>{})){return queueMicrotask((()=>{fe||setTimeout((()=>{me()}))})),new Promise((t=>{pe.push((()=>{e(),t()}))}))}function me(){for(fe=!1;pe.length;)pe.shift()()}function ve(e,t){if("function"==typeof ShadowRoot&&e instanceof ShadowRoot)return void Array.from(e.children).forEach((e=>ve(e,t)));let n=!1;if(t(e,(()=>n=!0)),n)return;let i=e.firstElementChild;for(;i;)ve(i,t),i=i.nextElementSibling}function be(e,...t){console.warn(`Alpine Warning: ${e}`,...t)}var ye=[],we=[];function xe(){return ye.map((e=>e()))}function _e(){return ye.concat(we).map((e=>e()))}function Te(e){ye.push(e)}function De(e){we.push(e)}function Ce(e,t=!1){return Me(e,(e=>{if((t?_e():xe()).some((t=>e.matches(t))))return!0}))}function Me(e,t){if(e){if(t(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),e.parentElement)return Me(e.parentElement,t)}}function Ee(e,t=ve){!function(e){Q=!0;let t=Symbol();te=t,ee.set(t,[]);let n=()=>{for(;ee.get(t).length;)ee.get(t).shift()();ee.delete(t)};e(n),Q=!1,n()}((()=>{t(e,((e,t)=>{X(e,e.attributes).forEach((e=>e())),e._x_ignore&&t()}))}))}function Oe(e,t){return Array.isArray(t)?Se(e,t.join(" ")):"object"==typeof t&&null!==t?function(e,t){let n=e=>e.split(" ").filter(Boolean),i=Object.entries(t).flatMap((([e,t])=>!!t&&n(e))).filter(Boolean),a=Object.entries(t).flatMap((([e,t])=>!t&&n(e))).filter(Boolean),s=[],r=[];return a.forEach((t=>{e.classList.contains(t)&&(e.classList.remove(t),r.push(t))})),i.forEach((t=>{e.classList.contains(t)||(e.classList.add(t),s.push(t))})),()=>{r.forEach((t=>e.classList.add(t))),s.forEach((t=>e.classList.remove(t)))}}(e,t):"function"==typeof t?Oe(e,t()):Se(e,t)}function Se(e,t){return t=!0===t?t="":t||"",(t=>(e.classList.add(...t),()=>{e.classList.remove(...t)}))(t.split(" ").filter((t=>!e.classList.contains(t))).filter(Boolean))}function Ae(e,t){return"object"==typeof t&&null!==t?function(e,t){let n={};return Object.entries(t).forEach((([t,i])=>{n[t]=e.style[t],t.startsWith("--")||(t=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}(t)),e.style.setProperty(t,i)})),setTimeout((()=>{0===e.style.length&&e.removeAttribute("style")})),()=>{Ae(e,n)}}(e,t):function(e,t){let n=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",n||"")}}(e,t)}function Ie(e,t=(()=>{})){let n=!1;return function(){n?t.apply(this,arguments):(n=!0,e.apply(this,arguments))}}function ke(e,t,n={}){e._x_transition||(e._x_transition={enter:{during:n,start:n,end:n},leave:{during:n,start:n,end:n},in(n=(()=>{}),i=(()=>{})){Le(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},n,i)},out(n=(()=>{}),i=(()=>{})){Le(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},n,i)}})}function Ne(e){let t=e.parentNode;if(t)return t._x_hidePromise?t:Ne(t)}function Le(e,t,{during:n,start:i,end:a}={},s=(()=>{}),r=(()=>{})){if(e._x_transitioning&&e._x_transitioning.cancel(),0===Object.keys(n).length&&0===Object.keys(i).length&&0===Object.keys(a).length)return s(),void r();let o,l,d;!function(e,t){let n,i,a,s=Ie((()=>{T((()=>{n=!0,i||t.before(),a||(t.end(),me()),t.after(),e.isConnected&&t.cleanup(),delete e._x_transitioning}))}));e._x_transitioning={beforeCancels:[],beforeCancel(e){this.beforeCancels.push(e)},cancel:Ie((function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();s()})),finish:s},T((()=>{t.start(),t.during()})),fe=!0,requestAnimationFrame((()=>{if(n)return;let s=1e3*Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s","")),r=1e3*Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""));0===s&&(s=1e3*Number(getComputedStyle(e).animationDuration.replace("s",""))),T((()=>{t.before()})),i=!0,requestAnimationFrame((()=>{n||(T((()=>{t.end()})),me(),setTimeout(e._x_transitioning.finish,s+r),a=!0)}))}))}(e,{start(){o=t(e,i)},during(){l=t(e,n)},before:s,end(){o(),d=t(e,a)},after:r,cleanup(){l(),d()}})}function Pe(e,t,n){if(-1===e.indexOf(t))return n;let i=e[e.indexOf(t)+1];if(!i||"scale"===t&&isNaN(i))return n;if("duration"===t){let e=i.match(/([0-9]+)ms/);if(e)return e[1]}return"origin"===t&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[i,e[e.indexOf(t)+2]].join(" "):i}Z("transition",((e,{value:t,modifiers:n,expression:i},{evaluate:a})=>{"function"==typeof i&&(i=a(i)),i?function(e,t,n){ke(e,Oe,""),{enter:t=>{e._x_transition.enter.during=t},"enter-start":t=>{e._x_transition.enter.start=t},"enter-end":t=>{e._x_transition.enter.end=t},leave:t=>{e._x_transition.leave.during=t},"leave-start":t=>{e._x_transition.leave.start=t},"leave-end":t=>{e._x_transition.leave.end=t}}[n](t)}(e,i,t):function(e,t,n){ke(e,Ae);let i=!t.includes("in")&&!t.includes("out")&&!n,a=i||t.includes("in")||["enter"].includes(n),s=i||t.includes("out")||["leave"].includes(n);t.includes("in")&&!i&&(t=t.filter(((e,n)=>n<t.indexOf("out")))),t.includes("out")&&!i&&(t=t.filter(((e,n)=>n>t.indexOf("out"))));let r=!t.includes("opacity")&&!t.includes("scale"),o=r||t.includes("opacity"),l=r||t.includes("scale"),d=o?0:1,c=l?Pe(t,"scale",95)/100:1,u=Pe(t,"delay",0),h=Pe(t,"origin","center"),p="opacity, transform",f=Pe(t,"duration",150)/1e3,g=Pe(t,"duration",75)/1e3,m="cubic-bezier(0.4, 0.0, 0.2, 1)";a&&(e._x_transition.enter.during={transformOrigin:h,transitionDelay:u,transitionProperty:p,transitionDuration:`${f}s`,transitionTimingFunction:m},e._x_transition.enter.start={opacity:d,transform:`scale(${c})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),s&&(e._x_transition.leave.during={transformOrigin:h,transitionDelay:u,transitionProperty:p,transitionDuration:`${g}s`,transitionTimingFunction:m},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:d,transform:`scale(${c})`})}(e,n,t)})),window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,n,i){let a="visible"===document.visibilityState?requestAnimationFrame:setTimeout,s=()=>a(n);t?e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(n):s():e._x_transition?e._x_transition.in(n):s():(e._x_hidePromise=e._x_transition?new Promise(((t,n)=>{e._x_transition.out((()=>{}),(()=>t(i))),e._x_transitioning.beforeCancel((()=>n({isFromCancelledTransition:!0})))})):Promise.resolve(i),queueMicrotask((()=>{let t=Ne(e);t?(t._x_hideChildren||(t._x_hideChildren=[]),t._x_hideChildren.push(e)):a((()=>{let t=e=>{let n=Promise.all([e._x_hidePromise,...(e._x_hideChildren||[]).map(t)]).then((([e])=>e()));return delete e._x_hidePromise,delete e._x_hideChildren,n};t(e).catch((e=>{if(!e.isFromCancelledTransition)throw e}))}))})))};var He=!1;function $e(e,t=(()=>{})){return(...n)=>He?t(...n):e(...n)}function je(e,t,n,i=[]){switch(e._x_bindings||(e._x_bindings=r({})),e._x_bindings[t]=n,t=i.includes("camel")?function(e){return e.toLowerCase().replace(/-(\w)/g,((e,t)=>t.toUpperCase()))}(t):t,t){case"value":!function(e,t){if("radio"===e.type)void 0===e.attributes.value&&(e.value=t),window.fromModel&&(e.checked=Fe(e.value,t));else if("checkbox"===e.type)Number.isInteger(t)?e.value=t:Number.isInteger(t)||Array.isArray(t)||"boolean"==typeof t||[null,void 0].includes(t)?Array.isArray(t)?e.checked=t.some((t=>Fe(t,e.value))):e.checked=!!t:e.value=String(t);else if("SELECT"===e.tagName)!function(e,t){let n=[].concat(t).map((e=>e+""));Array.from(e.options).forEach((e=>{e.selected=n.includes(e.value)}))}(e,t);else{if(e.value===t)return;e.value=t}}(e,n);break;case"style":!function(e,t){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=Ae(e,t)}(e,n);break;case"class":!function(e,t){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=Oe(e,t)}(e,n);break;default:!function(e,t,n){[null,void 0,!1].includes(n)&&function(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}(t)?e.removeAttribute(t):(Re(t)&&(n=t),function(e,t,n){e.getAttribute(t)!=n&&e.setAttribute(t,n)}(e,t,n))}(e,t,n)}}function Fe(e,t){return e==t}function Re(e){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(e)}function Ye(e,t){var n;return function(){var i=this,a=arguments;clearTimeout(n),n=setTimeout((function(){n=null,e.apply(i,a)}),t)}}function Ve(e,t){let n;return function(){let i=arguments;n||(e.apply(this,i),n=!0,setTimeout((()=>n=!1),t))}}var Be={},We=!1;var qe={};function ze(e,t,n){let i=[];for(;i.length;)i.pop()();let a=Object.entries(t).map((([e,t])=>({name:e,value:t}))),s=G(a);a=a.map((e=>s.find((t=>t.name===e.name))?{name:`x-bind:${e.name}`,value:`"${e.value}"`}:e)),X(e,a,n).map((e=>{i.push(e.runCleanups),e()}))}var Ue={};var Ke={get reactive(){return r},get release(){return l},get effect(){return o},get raw(){return d},version:"3.10.4",flushAndStopDeferringMutations:function(){D=!1,M(C),C=[]},dontAutoEvaluateFunctions:function(e){let t=R;R=!1,e(),R=t},disableEffectScheduling:function(e){c=!1,e(),c=!0},setReactivityEngine:function(e){r=e.reactive,l=e.release,o=t=>e.effect(t,{scheduler:e=>{c?i(e):e()}}),d=e.raw},closestDataStack:A,skipDuringClone:$e,addRootSelector:Te,addInitSelector:De,addScopeToNode:O,deferMutations:function(){D=!0},mapAttributes:re,evaluateLater:V,setEvaluator:function(e){B=e},mergeProxies:I,findClosest:Me,closestRoot:Ce,interceptor:N,transition:Le,setStyles:Ae,mutateDom:T,directive:Z,throttle:Ve,debounce:Ye,evaluate:Y,initTree:Ee,nextTick:ge,prefixed:K,prefix:function(e){U=e},plugin:function(e){e(Ke)},magic:H,store:function(e,t){if(We||(Be=r(Be),We=!0),void 0===t)return Be[e];Be[e]=t,"object"==typeof t&&null!==t&&t.hasOwnProperty("init")&&"function"==typeof t.init&&Be[e].init(),k(Be[e])},start:function(){document.body||be("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),he(document,"alpine:init"),he(document,"alpine:initializing"),y(),function(e){f.push(e)}((e=>Ee(e,ve))),g((e=>function(e){ve(e,(e=>m(e)))}(e))),function(e){h.push(e)}(((e,t)=>{X(e,t).forEach((e=>e()))})),Array.from(document.querySelectorAll(_e())).filter((e=>!Ce(e.parentElement,!0))).forEach((e=>{Ee(e)})),he(document,"alpine:initialized")},clone:function(e,t){t._x_dataStack||(t._x_dataStack=e._x_dataStack),He=!0,function(e){let t=o;u(((e,n)=>{let i=t(e);return l(i),()=>{}})),e(),u(t)}((()=>{!function(e){let t=!1;Ee(e,((e,n)=>{ve(e,((e,i)=>{if(t&&function(e){return xe().some((t=>e.matches(t)))}(e))return i();t=!0,n(e,i)}))}))}(t)})),He=!1},bound:function(e,t,n){if(e._x_bindings&&void 0!==e._x_bindings[t])return e._x_bindings[t];let i=e.getAttribute(t);return null===i?"function"==typeof n?n():n:""===i||(Re(t)?!![t,"true"].includes(i):i)},$data:E,data:function(e,t){Ue[e]=t},bind:function(e,t){let n="function"!=typeof t?()=>t:t;e instanceof Element?ze(e,n()):qe[e]=n}};function Je(e,t){let n=Object.create(null),i=e.split(",");for(let e=0;e<i.length;e++)n[i[e]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}Je("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly,async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");var Ze,Xe=Object.freeze({}),Ge=(Object.freeze([]),Object.assign),Qe=Object.prototype.hasOwnProperty,et=(e,t)=>Qe.call(e,t),tt=Array.isArray,nt=e=>"[object Map]"===rt(e),it=e=>"symbol"==typeof e,at=e=>null!==e&&"object"==typeof e,st=Object.prototype.toString,rt=e=>st.call(e),ot=e=>rt(e).slice(8,-1),lt=e=>(e=>"string"==typeof e)(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,dt=e=>{let t=Object.create(null);return n=>t[n]||(t[n]=e(n))},ct=/-(\w)/g,ut=(dt((e=>e.replace(ct,((e,t)=>t?t.toUpperCase():"")))),/\B([A-Z])/g),ht=(dt((e=>e.replace(ut,"-$1").toLowerCase())),dt((e=>e.charAt(0).toUpperCase()+e.slice(1)))),pt=(dt((e=>e?`on${ht(e)}`:"")),(e,t)=>e!==t&&(e==e||t==t)),ft=new WeakMap,gt=[],mt=Symbol("iterate"),vt=Symbol("Map key iterate");var bt=0;function yt(e){let{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}var wt=!0,xt=[];function _t(){let e=xt.pop();wt=void 0===e||e}function Tt(e,t,n){if(!wt||void 0===Ze)return;let i=ft.get(e);i||ft.set(e,i=new Map);let a=i.get(n);a||i.set(n,a=new Set),a.has(Ze)||(a.add(Ze),Ze.deps.push(a),Ze.options.onTrack&&Ze.options.onTrack({effect:Ze,target:e,type:t,key:n}))}function Dt(e,t,n,i,a,s){let r=ft.get(e);if(!r)return;let o=new Set,l=e=>{e&&e.forEach((e=>{(e!==Ze||e.allowRecurse)&&o.add(e)}))};if("clear"===t)r.forEach(l);else if("length"===n&&tt(e))r.forEach(((e,t)=>{("length"===t||t>=i)&&l(e)}));else switch(void 0!==n&&l(r.get(n)),t){case"add":tt(e)?lt(n)&&l(r.get("length")):(l(r.get(mt)),nt(e)&&l(r.get(vt)));break;case"delete":tt(e)||(l(r.get(mt)),nt(e)&&l(r.get(vt)));break;case"set":nt(e)&&l(r.get(mt))}o.forEach((r=>{r.options.onTrigger&&r.options.onTrigger({effect:r,target:e,key:n,type:t,newValue:i,oldValue:a,oldTarget:s}),r.options.scheduler?r.options.scheduler(r):r()}))}var Ct=Je("__proto__,__v_isRef,__isVue"),Mt=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(it)),Et=kt(),Ot=kt(!1,!0),St=kt(!0),At=kt(!0,!0),It={};function kt(e=!1,t=!1){return function(n,i,a){if("__v_isReactive"===i)return!e;if("__v_isReadonly"===i)return e;if("__v_raw"===i&&a===(e?t?cn:dn:t?ln:on).get(n))return n;let s=tt(n);if(!e&&s&&et(It,i))return Reflect.get(It,i,a);let r=Reflect.get(n,i,a);return(it(i)?Mt.has(i):Ct(i))||(e||Tt(n,"get",i),t)?r:gn(r)?s&&lt(i)?r:r.value:at(r)?e?hn(r):un(r):r}}["includes","indexOf","lastIndexOf"].forEach((e=>{let t=Array.prototype[e];It[e]=function(...e){let n=fn(this);for(let e=0,t=this.length;e<t;e++)Tt(n,"get",e+"");let i=t.apply(n,e);return-1===i||!1===i?t.apply(n,e.map(fn)):i}})),["push","pop","shift","unshift","splice"].forEach((e=>{let t=Array.prototype[e];It[e]=function(...e){xt.push(wt),wt=!1;let n=t.apply(this,e);return _t(),n}}));var Nt=Pt(),Lt=Pt(!0);function Pt(e=!1){return function(t,n,i,a){let s=t[n];if(!e&&(i=fn(i),s=fn(s),!tt(t)&&gn(s)&&!gn(i)))return s.value=i,!0;let r=tt(t)&&lt(n)?Number(n)<t.length:et(t,n),o=Reflect.set(t,n,i,a);return t===fn(a)&&(r?pt(i,s)&&Dt(t,"set",n,i,s):Dt(t,"add",n,i)),o}}var Ht={get:Et,set:Nt,deleteProperty:function(e,t){let n=et(e,t),i=e[t],a=Reflect.deleteProperty(e,t);return a&&n&&Dt(e,"delete",t,void 0,i),a},has:function(e,t){let n=Reflect.has(e,t);return(!it(t)||!Mt.has(t))&&Tt(e,"has",t),n},ownKeys:function(e){return Tt(e,"iterate",tt(e)?"length":mt),Reflect.ownKeys(e)}},$t={get:St,set:(e,t)=>(console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0),deleteProperty:(e,t)=>(console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0)},jt=(Ge({},Ht,{get:Ot,set:Lt}),Ge({},$t,{get:At}),e=>at(e)?un(e):e),Ft=e=>at(e)?hn(e):e,Rt=e=>e,Yt=e=>Reflect.getPrototypeOf(e);function Vt(e,t,n=!1,i=!1){let a=fn(e=e.__v_raw),s=fn(t);t!==s&&!n&&Tt(a,"get",t),!n&&Tt(a,"get",s);let{has:r}=Yt(a),o=i?Rt:n?Ft:jt;return r.call(a,t)?o(e.get(t)):r.call(a,s)?o(e.get(s)):void(e!==a&&e.get(t))}function Bt(e,t=!1){let n=this.__v_raw,i=fn(n),a=fn(e);return e!==a&&!t&&Tt(i,"has",e),!t&&Tt(i,"has",a),e===a?n.has(e):n.has(e)||n.has(a)}function Wt(e,t=!1){return e=e.__v_raw,!t&&Tt(fn(e),"iterate",mt),Reflect.get(e,"size",e)}function qt(e){e=fn(e);let t=fn(this);return Yt(t).has.call(t,e)||(t.add(e),Dt(t,"add",e,e)),this}function zt(e,t){t=fn(t);let n=fn(this),{has:i,get:a}=Yt(n),s=i.call(n,e);s?rn(n,i,e):(e=fn(e),s=i.call(n,e));let r=a.call(n,e);return n.set(e,t),s?pt(t,r)&&Dt(n,"set",e,t,r):Dt(n,"add",e,t),this}function Ut(e){let t=fn(this),{has:n,get:i}=Yt(t),a=n.call(t,e);a?rn(t,n,e):(e=fn(e),a=n.call(t,e));let s=i?i.call(t,e):void 0,r=t.delete(e);return a&&Dt(t,"delete",e,void 0,s),r}function Kt(){let e=fn(this),t=0!==e.size,n=nt(e)?new Map(e):new Set(e),i=e.clear();return t&&Dt(e,"clear",void 0,void 0,n),i}function Jt(e,t){return function(n,i){let a=this,s=a.__v_raw,r=fn(s),o=t?Rt:e?Ft:jt;return!e&&Tt(r,"iterate",mt),s.forEach(((e,t)=>n.call(i,o(e),o(t),a)))}}function Zt(e,t,n){return function(...i){let a=this.__v_raw,s=fn(a),r=nt(s),o="entries"===e||e===Symbol.iterator&&r,l="keys"===e&&r,d=a[e](...i),c=n?Rt:t?Ft:jt;return!t&&Tt(s,"iterate",l?vt:mt),{next(){let{value:e,done:t}=d.next();return t?{value:e,done:t}:{value:o?[c(e[0]),c(e[1])]:c(e),done:t}},[Symbol.iterator](){return this}}}}function Xt(e){return function(...t){{let n=t[0]?`on key "${t[0]}" `:"";console.warn(`${ht(e)} operation ${n}failed: target is readonly.`,fn(this))}return"delete"!==e&&this}}var Gt={get(e){return Vt(this,e)},get size(){return Wt(this)},has:Bt,add:qt,set:zt,delete:Ut,clear:Kt,forEach:Jt(!1,!1)},Qt={get(e){return Vt(this,e,!1,!0)},get size(){return Wt(this)},has:Bt,add:qt,set:zt,delete:Ut,clear:Kt,forEach:Jt(!1,!0)},en={get(e){return Vt(this,e,!0)},get size(){return Wt(this,!0)},has(e){return Bt.call(this,e,!0)},add:Xt("add"),set:Xt("set"),delete:Xt("delete"),clear:Xt("clear"),forEach:Jt(!0,!1)},tn={get(e){return Vt(this,e,!0,!0)},get size(){return Wt(this,!0)},has(e){return Bt.call(this,e,!0)},add:Xt("add"),set:Xt("set"),delete:Xt("delete"),clear:Xt("clear"),forEach:Jt(!0,!0)};function nn(e,t){let n=t?e?tn:Qt:e?en:Gt;return(t,i,a)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get(et(n,i)&&i in t?n:t,i,a)}["keys","values","entries",Symbol.iterator].forEach((e=>{Gt[e]=Zt(e,!1,!1),en[e]=Zt(e,!0,!1),Qt[e]=Zt(e,!1,!0),tn[e]=Zt(e,!0,!0)}));var an={get:nn(!1,!1)},sn=(nn(!1,!0),{get:nn(!0,!1)});nn(!0,!0);function rn(e,t,n){let i=fn(n);if(i!==n&&t.call(e,i)){let t=ot(e);console.warn(`Reactive ${t} contains both the raw and reactive versions of the same object${"Map"===t?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var on=new WeakMap,ln=new WeakMap,dn=new WeakMap,cn=new WeakMap;function un(e){return e&&e.__v_isReadonly?e:pn(e,!1,Ht,an,on)}function hn(e){return pn(e,!0,$t,sn,dn)}function pn(e,t,n,i,a){if(!at(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;let s=a.get(e);if(s)return s;let r=function(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(ot(e))}(e);if(0===r)return e;let o=new Proxy(e,2===r?i:n);return a.set(e,o),o}function fn(e){return e&&fn(e.__v_raw)||e}function gn(e){return Boolean(e&&!0===e.__v_isRef)}H("nextTick",(()=>ge)),H("dispatch",(e=>he.bind(he,e))),H("watch",((e,{evaluateLater:t,effect:n})=>(i,a)=>{let s,r=t(i),o=!0,l=n((()=>r((e=>{JSON.stringify(e),o?s=e:queueMicrotask((()=>{a(e,s),s=e})),o=!1}))));e._x_effects.delete(l)})),H("store",(function(){return Be})),H("data",(e=>E(e))),H("root",(e=>Ce(e))),H("refs",(e=>(e._x_refs_proxy||(e._x_refs_proxy=I(function(e){let t=[],n=e;for(;n;)n._x_refs&&t.push(n._x_refs),n=n.parentNode;return t}(e))),e._x_refs_proxy)));var mn={};function vn(e){return mn[e]||(mn[e]=0),++mn[e]}function bn(e,t,n){H(t,(t=>be(`You can't use [$${directiveName}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,t)))}H("id",(e=>(t,n=null)=>{let i=function(e,t){return Me(e,(e=>{if(e._x_ids&&e._x_ids[t])return!0}))}(e,t),a=i?i._x_ids[t]:vn(t);return n?`${t}-${a}-${n}`:`${t}-${a}`})),H("el",(e=>e)),bn("Focus","focus","focus"),bn("Persist","persist","persist"),Z("modelable",((e,{expression:t},{effect:n,evaluateLater:i})=>{let a=i(t),s=()=>{let e;return a((t=>e=t)),e},r=i(`${t} = __placeholder`),o=e=>r((()=>{}),{scope:{__placeholder:e}}),l=s();o(l),queueMicrotask((()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let t=e._x_model.get,i=e._x_model.set;n((()=>o(t()))),n((()=>i(s())))}))})),Z("teleport",((e,{expression:t},{cleanup:n})=>{"template"!==e.tagName.toLowerCase()&&be("x-teleport can only be used on a <template> tag",e);let i=document.querySelector(t);i||be(`Cannot find x-teleport element for selector: "${t}"`);let a=e.content.cloneNode(!0).firstElementChild;e._x_teleport=a,a._x_teleportBack=e,e._x_forwardEvents&&e._x_forwardEvents.forEach((t=>{a.addEventListener(t,(t=>{t.stopPropagation(),e.dispatchEvent(new t.constructor(t.type,t))}))})),O(a,{},e),T((()=>{i.appendChild(a),Ee(a),a._x_ignore=!0})),n((()=>a.remove()))}));var yn=()=>{};function wn(e,t,n,i){let a=e,s=e=>i(e),r={},o=(e,t)=>n=>t(e,n);if(n.includes("dot")&&(t=function(e){return e.replace(/-/g,".")}(t)),n.includes("camel")&&(t=function(e){return e.toLowerCase().replace(/-(\w)/g,((e,t)=>t.toUpperCase()))}(t)),n.includes("passive")&&(r.passive=!0),n.includes("capture")&&(r.capture=!0),n.includes("window")&&(a=window),n.includes("document")&&(a=document),n.includes("prevent")&&(s=o(s,((e,t)=>{t.preventDefault(),e(t)}))),n.includes("stop")&&(s=o(s,((e,t)=>{t.stopPropagation(),e(t)}))),n.includes("self")&&(s=o(s,((t,n)=>{n.target===e&&t(n)}))),(n.includes("away")||n.includes("outside"))&&(a=document,s=o(s,((t,n)=>{e.contains(n.target)||!1!==n.target.isConnected&&(e.offsetWidth<1&&e.offsetHeight<1||!1!==e._x_isShown&&t(n))}))),n.includes("once")&&(s=o(s,((e,n)=>{e(n),a.removeEventListener(t,s,r)}))),s=o(s,((e,i)=>{(function(e){return["keydown","keyup"].includes(e)})(t)&&function(e,t){let n=t.filter((e=>!["window","document","prevent","stop","once"].includes(e)));if(n.includes("debounce")){let e=n.indexOf("debounce");n.splice(e,xn((n[e+1]||"invalid-wait").split("ms")[0])?2:1)}if(0===n.length||1===n.length&&_n(e.key).includes(n[0]))return!1;let i=["ctrl","shift","alt","meta","cmd","super"].filter((e=>n.includes(e)));return n=n.filter((e=>!i.includes(e))),!(i.length>0&&i.filter((t=>(("cmd"===t||"super"===t)&&(t="meta"),e[`${t}Key`]))).length===i.length&&_n(e.key).includes(n[0]))}(i,n)||e(i)})),n.includes("debounce")){let e=n[n.indexOf("debounce")+1]||"invalid-wait",t=xn(e.split("ms")[0])?Number(e.split("ms")[0]):250;s=Ye(s,t)}if(n.includes("throttle")){let e=n[n.indexOf("throttle")+1]||"invalid-wait",t=xn(e.split("ms")[0])?Number(e.split("ms")[0]):250;s=Ve(s,t)}return a.addEventListener(t,s,r),()=>{a.removeEventListener(t,s,r)}}function xn(e){return!Array.isArray(e)&&!isNaN(e)}function _n(e){if(!e)return[];e=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}(e);let t={ctrl:"control",slash:"/",space:"-",spacebar:"-",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"="};return t[e]=e,Object.keys(t).map((n=>{if(t[n]===e)return n})).filter((e=>e))}function Tn(e){let t=e?parseFloat(e):null;return function(e){return!Array.isArray(e)&&!isNaN(e)}(t)?t:e}function Dn(e,t,n,i){let a={};return/^\[.*\]$/.test(e.item)&&Array.isArray(t)?e.item.replace("[","").replace("]","").split(",").map((e=>e.trim())).forEach(((e,n)=>{a[e]=t[n]})):/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&"object"==typeof t?e.item.replace("{","").replace("}","").split(",").map((e=>e.trim())).forEach((e=>{a[e]=t[e]})):a[e.item]=t,e.index&&(a[e.index]=n),e.collection&&(a[e.collection]=i),a}function Cn(){}function Mn(e,t,n){Z(t,(i=>be(`You can't use [x-${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,i)))}yn.inline=(e,{modifiers:t},{cleanup:n})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,n((()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore}))},Z("ignore",yn),Z("effect",((e,{expression:t},{effect:n})=>n(V(e,t)))),Z("model",((e,{modifiers:t,expression:n},{effect:i,cleanup:a})=>{let s=V(e,n),r=V(e,`${n} = rightSideOfExpression($event, ${n})`);var o="select"===e.tagName.toLowerCase()||["checkbox","radio"].includes(e.type)||t.includes("lazy")?"change":"input";let l=function(e,t,n){return"radio"===e.type&&T((()=>{e.hasAttribute("name")||e.setAttribute("name",n)})),(n,i)=>T((()=>{if(n instanceof CustomEvent&&void 0!==n.detail)return n.detail||n.target.value;if("checkbox"===e.type){if(Array.isArray(i)){let e=t.includes("number")?Tn(n.target.value):n.target.value;return n.target.checked?i.concat([e]):i.filter((t=>!function(e,t){return e==t}(t,e)))}return n.target.checked}if("select"===e.tagName.toLowerCase()&&e.multiple)return t.includes("number")?Array.from(n.target.selectedOptions).map((e=>Tn(e.value||e.text))):Array.from(n.target.selectedOptions).map((e=>e.value||e.text));{let e=n.target.value;return t.includes("number")?Tn(e):t.includes("trim")?e.trim():e}}))}(e,t,n),d=wn(e,o,t,(e=>{r((()=>{}),{scope:{$event:e,rightSideOfExpression:l}})}));e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=d,a((()=>e._x_removeModelListeners.default()));let c=V(e,`${n} = __placeholder`);e._x_model={get(){let e;return s((t=>e=t)),e},set(e){c((()=>{}),{scope:{__placeholder:e}})}},e._x_forceModelUpdate=()=>{s((t=>{void 0===t&&n.match(/\./)&&(t=""),window.fromModel=!0,T((()=>je(e,"value",t))),delete window.fromModel}))},i((()=>{t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate()}))})),Z("cloak",(e=>queueMicrotask((()=>T((()=>e.removeAttribute(K("cloak")))))))),De((()=>`[${K("init")}]`)),Z("init",$e(((e,{expression:t},{evaluate:n})=>"string"==typeof t?!!t.trim()&&n(t,{},!1):n(t,{},!1)))),Z("text",((e,{expression:t},{effect:n,evaluateLater:i})=>{let a=i(t);n((()=>{a((t=>{T((()=>{e.textContent=t}))}))}))})),Z("html",((e,{expression:t},{effect:n,evaluateLater:i})=>{let a=i(t);n((()=>{a((t=>{T((()=>{e.innerHTML=t,e._x_ignoreSelf=!0,Ee(e),delete e._x_ignoreSelf}))}))}))})),re(ie(":",K("bind:"))),Z("bind",((e,{value:t,modifiers:n,expression:i,original:a},{effect:s})=>{if(!t){let t={};return function(e){Object.entries(qe).forEach((([t,n])=>{Object.defineProperty(e,t,{get:()=>(...e)=>n(...e)})}))}(t),void V(e,i)((t=>{ze(e,t,a)}),{scope:t})}if("key"===t)return function(e,t){e._x_keyExpression=t}(e,i);let r=V(e,i);s((()=>r((a=>{void 0===a&&"string"==typeof i&&i.match(/\./)&&(a=""),T((()=>je(e,t,a,n)))}))))})),Te((()=>`[${K("data")}]`)),Z("data",$e(((e,{expression:t},{cleanup:n})=>{t=""===t?"{}":t;let i={};$(i,e);let a={};!function(e,t){Object.entries(Ue).forEach((([n,i])=>{Object.defineProperty(e,n,{get:()=>(...e)=>i.bind(t)(...e),enumerable:!1})}))}(a,i);let s=Y(e,t,{scope:a});void 0===s&&(s={}),$(s,e);let o=r(s);k(o);let l=O(e,o);o.init&&Y(e,o.init),n((()=>{o.destroy&&Y(e,o.destroy),l()}))}))),Z("show",((e,{modifiers:t,expression:n},{effect:i})=>{let a=V(e,n);e._x_doHide||(e._x_doHide=()=>{T((()=>{e.style.setProperty("display","none",t.includes("important")?"important":void 0)}))}),e._x_doShow||(e._x_doShow=()=>{T((()=>{1===e.style.length&&"none"===e.style.display?e.removeAttribute("style"):e.style.removeProperty("display")}))});let s,r=()=>{e._x_doHide(),e._x_isShown=!1},o=()=>{e._x_doShow(),e._x_isShown=!0},l=()=>setTimeout(o),d=Ie((e=>e?o():r()),(t=>{"function"==typeof e._x_toggleAndCascadeWithTransitions?e._x_toggleAndCascadeWithTransitions(e,t,o,r):t?l():r()})),c=!0;i((()=>a((e=>{!c&&e===s||(t.includes("immediate")&&(e?l():r()),d(e),s=e,c=!1)}))))})),Z("for",((e,{expression:t},{effect:n,cleanup:i})=>{let s=function(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=/^\s*\(|\)\s*$/g,i=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,a=e.match(i);if(!a)return;let s={};s.items=a[2].trim();let r=a[1].replace(n,"").trim(),o=r.match(t);return o?(s.item=r.replace(t,"").trim(),s.index=o[1].trim(),o[2]&&(s.collection=o[2].trim())):s.item=r,s}(t),o=V(e,s.items),l=V(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},n((()=>function(e,t,n,i){let s=e=>"object"==typeof e&&!Array.isArray(e),o=e;n((n=>{(function(e){return!Array.isArray(e)&&!isNaN(e)})(n)&&n>=0&&(n=Array.from(Array(n).keys(),(e=>e+1))),void 0===n&&(n=[]);let l=e._x_lookup,d=e._x_prevKeys,c=[],u=[];if(s(n))n=Object.entries(n).map((([e,a])=>{let s=Dn(t,a,e,n);i((e=>u.push(e)),{scope:{index:e,...s}}),c.push(s)}));else for(let e=0;e<n.length;e++){let a=Dn(t,n[e],e,n);i((e=>u.push(e)),{scope:{index:e,...a}}),c.push(a)}let h=[],p=[],f=[],g=[];for(let e=0;e<d.length;e++){let t=d[e];-1===u.indexOf(t)&&f.push(t)}d=d.filter((e=>!f.includes(e)));let m="template";for(let e=0;e<u.length;e++){let t=u[e],n=d.indexOf(t);if(-1===n)d.splice(e,0,t),h.push([m,e]);else if(n!==e){let t=d.splice(e,1)[0],i=d.splice(n-1,1)[0];d.splice(e,0,i),d.splice(n,0,t),p.push([t,i])}else g.push(t);m=t}for(let e=0;e<f.length;e++){let t=f[e];l[t]._x_effects&&l[t]._x_effects.forEach(a),l[t].remove(),l[t]=null,delete l[t]}for(let e=0;e<p.length;e++){let[t,n]=p[e],i=l[t],a=l[n],s=document.createElement("div");T((()=>{a.after(s),i.after(a),a._x_currentIfEl&&a.after(a._x_currentIfEl),s.before(i),i._x_currentIfEl&&i.after(i._x_currentIfEl),s.remove()})),S(a,c[u.indexOf(n)])}for(let e=0;e<h.length;e++){let[t,n]=h[e],i="template"===t?o:l[t];i._x_currentIfEl&&(i=i._x_currentIfEl);let a=c[n],s=u[n],d=document.importNode(o.content,!0).firstElementChild;O(d,r(a),o),T((()=>{i.after(d),Ee(d)})),"object"==typeof s&&be("x-for key cannot be an object, it must be a string or an integer",o),l[s]=d}for(let e=0;e<g.length;e++)S(l[g[e]],c[u.indexOf(g[e])]);o._x_prevKeys=u}))}(e,s,o,l))),i((()=>{Object.values(e._x_lookup).forEach((e=>e.remove())),delete e._x_prevKeys,delete e._x_lookup}))})),Cn.inline=(e,{expression:t},{cleanup:n})=>{let i=Ce(e);i._x_refs||(i._x_refs={}),i._x_refs[t]=e,n((()=>delete i._x_refs[t]))},Z("ref",Cn),Z("if",((e,{expression:t},{effect:n,cleanup:i})=>{let s=V(e,t);n((()=>s((t=>{t?(()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let t=e.content.cloneNode(!0).firstElementChild;O(t,{},e),T((()=>{e.after(t),Ee(t)})),e._x_currentIfEl=t,e._x_undoIf=()=>{ve(t,(e=>{e._x_effects&&e._x_effects.forEach(a)})),t.remove(),delete e._x_currentIfEl}})():!e._x_undoIf||(e._x_undoIf(),delete e._x_undoIf)})))),i((()=>e._x_undoIf&&e._x_undoIf()))})),Z("id",((e,{expression:t},{evaluate:n})=>{n(t).forEach((t=>function(e,t){e._x_ids||(e._x_ids={}),e._x_ids[t]||(e._x_ids[t]=vn(t))}(e,t)))})),re(ie("@",K("on:"))),Z("on",$e(((e,{value:t,modifiers:n,expression:i},{cleanup:a})=>{let s=i?V(e,i):()=>{};"template"===e.tagName.toLowerCase()&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t));let r=wn(e,t,n,(e=>{s((()=>{}),{scope:{$event:e},params:[e]})}));a((()=>r()))}))),Mn("Collapse","collapse","collapse"),Mn("Intersect","intersect","intersect"),Mn("Focus","trap","focus"),Mn("Mask","mask","mask"),Ke.setEvaluator(W),Ke.setReactivityEngine({reactive:un,effect:function(e,t=Xe){(function(e){return e&&!0===e._isEffect})(e)&&(e=e.raw);let n=function(e,t){let n=function(){if(!n.active)return e();if(!gt.includes(n)){yt(n);try{return xt.push(wt),wt=!0,gt.push(n),Ze=n,e()}finally{gt.pop(),_t(),Ze=gt[gt.length-1]}}};return n.id=bt++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}(e,t);return t.lazy||n(),n},release:function(e){e.active&&(yt(e),e.options.onStop&&e.options.onStop(),e.active=!1)},raw:fn});var En=Ke;window.Alpine=En,queueMicrotask((()=>{En.start()}))})(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).flatpickr=t()}(this,(function(){"use strict";var e=function(){return(e=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function t(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),a=0;for(t=0;t<n;t++)for(var s=arguments[t],r=0,o=s.length;r<o;r++,a++)i[a]=s[r];return i}var n=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],i={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},a={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},s=function(e,t){return void 0===t&&(t=2),("000"+e).slice(-1*t)},r=function(e){return!0===e?1:0};function o(e,t){var n;return function(){var i=this,a=arguments;clearTimeout(n),n=setTimeout((function(){return e.apply(i,a)}),t)}}var l=function(e){return e instanceof Array?e:[e]};function d(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function c(e,t,n){var i=window.document.createElement(e);return t=t||"",n=n||"",i.className=t,void 0!==n&&(i.textContent=n),i}function u(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function h(e,t){return t(e)?e:e.parentNode?h(e.parentNode,t):void 0}function p(e,t){var n=c("div","numInputWrapper"),i=c("input","numInput "+e),a=c("span","arrowUp"),s=c("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?i.type="number":(i.type="text",i.pattern="\\d*"),void 0!==t)for(var r in t)i.setAttribute(r,t[r]);return n.appendChild(i),n.appendChild(a),n.appendChild(s),n}function f(e){try{return"function"==typeof e.composedPath?e.composedPath()[0]:e.target}catch(t){return e.target}}var g=function(){},m=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},v={D:g,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*r(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t,n){var i=parseInt(t),a=new Date(e.getFullYear(),0,2+7*(i-1),0,0,0,0);return a.setDate(a.getDate()-a.getDay()+n.firstDayOfWeek),a},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:g,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:g,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},b={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},y={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[y.w(e,t,n)]},F:function(e,t,n){return m(y.n(e,t,n)-1,!1,t)},G:function(e,t,n){return s(y.h(e,t,n))},H:function(e){return s(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[r(e.getHours()>11)]},M:function(e,t){return m(e.getMonth(),!0,t)},S:function(e){return s(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return s(e.getFullYear(),4)},d:function(e){return s(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return s(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return s(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},w=function(e){var t=e.config,n=void 0===t?i:t,s=e.l10n,r=void 0===s?a:s,o=e.isMobile,l=void 0!==o&&o;return function(e,t,i){var a=i||r;return void 0===n.formatDate||l?t.split("").map((function(t,i,s){return y[t]&&"\\"!==s[i-1]?y[t](e,a,n):"\\"!==t?t:""})).join(""):n.formatDate(e,t,a)}},x=function(e){var t=e.config,n=void 0===t?i:t,s=e.l10n,r=void 0===s?a:s;return function(e,t,a,s){if(0===e||e){var o,l=s||r,d=e;if(e instanceof Date)o=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)o=new Date(e);else if("string"==typeof e){var c=t||(n||i).dateFormat,u=String(e).trim();if("today"===u)o=new Date,a=!0;else if(n&&n.parseDate)o=n.parseDate(e,c);else if(/Z$/.test(u)||/GMT$/.test(u))o=new Date(e);else{for(var h=void 0,p=[],f=0,g=0,m="";f<c.length;f++){var y=c[f],w="\\"===y,x="\\"===c[f-1]||w;if(b[y]&&!x){m+=b[y];var _=new RegExp(m).exec(e);_&&(h=!0)&&p["Y"!==y?"push":"unshift"]({fn:v[y],val:_[++g]})}else w||(m+=".")}o=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0),p.forEach((function(e){var t=e.fn,n=e.val;return o=t(o,n,l)||o})),o=h?o:void 0}}if(o instanceof Date&&!isNaN(o.getTime()))return!0===a&&o.setHours(0,0,0,0),o;n.errorHandler(new Error("Invalid date provided: "+d))}}};function _(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}var T=function(e,t,n){return 3600*e+60*t+n},D=864e5;function C(e){var t=e.defaultHour,n=e.defaultMinute,i=e.defaultSeconds;if(void 0!==e.minDate){var a=e.minDate.getHours(),s=e.minDate.getMinutes(),r=e.minDate.getSeconds();t<a&&(t=a),t===a&&n<s&&(n=s),t===a&&n===s&&i<r&&(i=e.minDate.getSeconds())}if(void 0!==e.maxDate){var o=e.maxDate.getHours(),l=e.maxDate.getMinutes();(t=Math.min(t,o))===o&&(n=Math.min(l,n)),t===o&&n===l&&(i=e.maxDate.getSeconds())}return{hours:t,minutes:n,seconds:i}}function M(g,v){var y={config:e(e({},i),O.defaultConfig),l10n:a};function M(){var e;return(null===(e=y.calendarContainer)||void 0===e?void 0:e.getRootNode()).activeElement||document.activeElement}function E(e){return e.bind(y)}function S(){var e=y.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==y.calendarContainer&&(y.calendarContainer.style.visibility="hidden",y.calendarContainer.style.display="block"),void 0!==y.daysContainer){var t=(y.days.offsetWidth+1)*e.showMonths;y.daysContainer.style.width=t+"px",y.calendarContainer.style.width=t+(void 0!==y.weekWrapper?y.weekWrapper.offsetWidth:0)+"px",y.calendarContainer.style.removeProperty("visibility"),y.calendarContainer.style.removeProperty("display")}}))}function A(e){if(0===y.selectedDates.length){var t=void 0===y.config.minDate||_(new Date,y.config.minDate)>=0?new Date:new Date(y.config.minDate.getTime()),n=C(y.config);t.setHours(n.hours,n.minutes,n.seconds,t.getMilliseconds()),y.selectedDates=[t],y.latestSelectedDateObj=t}void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var t="keydown"===e.type,n=f(e),i=n;void 0!==y.amPM&&n===y.amPM&&(y.amPM.textContent=y.l10n.amPM[r(y.amPM.textContent===y.l10n.amPM[0])]);var a=parseFloat(i.getAttribute("min")),o=parseFloat(i.getAttribute("max")),l=parseFloat(i.getAttribute("step")),d=parseInt(i.value,10),c=d+l*(e.delta||(t?38===e.which?1:-1:0));if(void 0!==i.value&&2===i.value.length){var u=i===y.hourElement,h=i===y.minuteElement;c<a?(c=o+c+r(!u)+(r(u)&&r(!y.amPM)),h&&F(void 0,-1,y.hourElement)):c>o&&(c=i===y.hourElement?c-o-r(!y.amPM):a,h&&F(void 0,1,y.hourElement)),y.amPM&&u&&(1===l?c+d===23:Math.abs(c-d)>l)&&(y.amPM.textContent=y.l10n.amPM[r(y.amPM.textContent===y.l10n.amPM[0])]),i.value=s(c)}}(e);var i=y._input.value;I(),Te(),y._input.value!==i&&y._debouncedChange()}function I(){if(void 0!==y.hourElement&&void 0!==y.minuteElement){var e,t,n=(parseInt(y.hourElement.value.slice(-2),10)||0)%24,i=(parseInt(y.minuteElement.value,10)||0)%60,a=void 0!==y.secondElement?(parseInt(y.secondElement.value,10)||0)%60:0;void 0!==y.amPM&&(e=n,t=y.amPM.textContent,n=e%12+12*r(t===y.l10n.amPM[1]));var s=void 0!==y.config.minTime||y.config.minDate&&y.minDateHasTime&&y.latestSelectedDateObj&&0===_(y.latestSelectedDateObj,y.config.minDate,!0),o=void 0!==y.config.maxTime||y.config.maxDate&&y.maxDateHasTime&&y.latestSelectedDateObj&&0===_(y.latestSelectedDateObj,y.config.maxDate,!0);if(void 0!==y.config.maxTime&&void 0!==y.config.minTime&&y.config.minTime>y.config.maxTime){var l=T(y.config.minTime.getHours(),y.config.minTime.getMinutes(),y.config.minTime.getSeconds()),d=T(y.config.maxTime.getHours(),y.config.maxTime.getMinutes(),y.config.maxTime.getSeconds()),c=T(n,i,a);if(c>d&&c<l){var u=function(e){var t=Math.floor(e/3600),n=(e-3600*t)/60;return[t,n,e-3600*t-60*n]}(l);n=u[0],i=u[1],a=u[2]}}else{if(o){var h=void 0!==y.config.maxTime?y.config.maxTime:y.config.maxDate;(n=Math.min(n,h.getHours()))===h.getHours()&&(i=Math.min(i,h.getMinutes())),i===h.getMinutes()&&(a=Math.min(a,h.getSeconds()))}if(s){var p=void 0!==y.config.minTime?y.config.minTime:y.config.minDate;(n=Math.max(n,p.getHours()))===p.getHours()&&i<p.getMinutes()&&(i=p.getMinutes()),i===p.getMinutes()&&(a=Math.max(a,p.getSeconds()))}}N(n,i,a)}}function k(e){var t=e||y.latestSelectedDateObj;t&&t instanceof Date&&N(t.getHours(),t.getMinutes(),t.getSeconds())}function N(e,t,n){void 0!==y.latestSelectedDateObj&&y.latestSelectedDateObj.setHours(e%24,t,n||0,0),y.hourElement&&y.minuteElement&&!y.isMobile&&(y.hourElement.value=s(y.config.time_24hr?e:(12+e)%12+12*r(e%12==0)),y.minuteElement.value=s(t),void 0!==y.amPM&&(y.amPM.textContent=y.l10n.amPM[r(e>=12)]),void 0!==y.secondElement&&(y.secondElement.value=s(n)))}function L(e){var t=f(e),n=parseInt(t.value)+(e.delta||0);(n/1e3>1||"Enter"===e.key&&!/[^\d]/.test(n.toString()))&&ee(n)}function P(e,t,n,i){return t instanceof Array?t.forEach((function(t){return P(e,t,n,i)})):e instanceof Array?e.forEach((function(e){return P(e,t,n,i)})):(e.addEventListener(t,n,i),void y._handlers.push({remove:function(){return e.removeEventListener(t,n,i)}}))}function H(){be("onChange")}function $(e,t){var n=void 0!==e?y.parseDate(e):y.latestSelectedDateObj||(y.config.minDate&&y.config.minDate>y.now?y.config.minDate:y.config.maxDate&&y.config.maxDate<y.now?y.config.maxDate:y.now),i=y.currentYear,a=y.currentMonth;try{void 0!==n&&(y.currentYear=n.getFullYear(),y.currentMonth=n.getMonth())}catch(e){e.message="Invalid date supplied: "+n,y.config.errorHandler(e)}t&&y.currentYear!==i&&(be("onYearChange"),z()),!t||y.currentYear===i&&y.currentMonth===a||be("onMonthChange"),y.redraw()}function j(e){var t=f(e);~t.className.indexOf("arrow")&&F(e,t.classList.contains("arrowUp")?1:-1)}function F(e,t,n){var i=e&&f(e),a=n||i&&i.parentNode&&i.parentNode.firstChild,s=ye("increment");s.delta=t,a&&a.dispatchEvent(s)}function R(e,t,n,i){var a=te(t,!0),s=c("span",e,t.getDate().toString());return s.dateObj=t,s.$i=i,s.setAttribute("aria-label",y.formatDate(t,y.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===_(t,y.now)&&(y.todayDateElem=s,s.classList.add("today"),s.setAttribute("aria-current","date")),a?(s.tabIndex=-1,we(t)&&(s.classList.add("selected"),y.selectedDateElem=s,"range"===y.config.mode&&(d(s,"startRange",y.selectedDates[0]&&0===_(t,y.selectedDates[0],!0)),d(s,"endRange",y.selectedDates[1]&&0===_(t,y.selectedDates[1],!0)),"nextMonthDay"===e&&s.classList.add("inRange")))):s.classList.add("flatpickr-disabled"),"range"===y.config.mode&&function(e){return!("range"!==y.config.mode||y.selectedDates.length<2)&&_(e,y.selectedDates[0])>=0&&_(e,y.selectedDates[1])<=0}(t)&&!we(t)&&s.classList.add("inRange"),y.weekNumbers&&1===y.config.showMonths&&"prevMonthDay"!==e&&i%7==6&&y.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+y.config.getWeek(t)+"</span>"),be("onDayCreate",s),s}function Y(e){e.focus(),"range"===y.config.mode&&se(e)}function V(e){for(var t=e>0?0:y.config.showMonths-1,n=e>0?y.config.showMonths:-1,i=t;i!=n;i+=e)for(var a=y.daysContainer.children[i],s=e>0?0:a.children.length-1,r=e>0?a.children.length:-1,o=s;o!=r;o+=e){var l=a.children[o];if(-1===l.className.indexOf("hidden")&&te(l.dateObj))return l}}function B(e,t){var n=M(),i=ne(n||document.body),a=void 0!==e?e:i?n:void 0!==y.selectedDateElem&&ne(y.selectedDateElem)?y.selectedDateElem:void 0!==y.todayDateElem&&ne(y.todayDateElem)?y.todayDateElem:V(t>0?1:-1);void 0===a?y._input.focus():i?function(e,t){for(var n=-1===e.className.indexOf("Month")?e.dateObj.getMonth():y.currentMonth,i=t>0?y.config.showMonths:-1,a=t>0?1:-1,s=n-y.currentMonth;s!=i;s+=a)for(var r=y.daysContainer.children[s],o=n-y.currentMonth===s?e.$i+t:t<0?r.children.length-1:0,l=r.children.length,d=o;d>=0&&d<l&&d!=(t>0?l:-1);d+=a){var c=r.children[d];if(-1===c.className.indexOf("hidden")&&te(c.dateObj)&&Math.abs(e.$i-d)>=Math.abs(t))return Y(c)}y.changeMonth(a),B(V(a),0)}(a,t):Y(a)}function W(e,t){for(var n=(new Date(e,t,1).getDay()-y.l10n.firstDayOfWeek+7)%7,i=y.utils.getDaysInMonth((t-1+12)%12,e),a=y.utils.getDaysInMonth(t,e),s=window.document.createDocumentFragment(),r=y.config.showMonths>1,o=r?"prevMonthDay hidden":"prevMonthDay",l=r?"nextMonthDay hidden":"nextMonthDay",d=i+1-n,u=0;d<=i;d++,u++)s.appendChild(R("flatpickr-day "+o,new Date(e,t-1,d),0,u));for(d=1;d<=a;d++,u++)s.appendChild(R("flatpickr-day",new Date(e,t,d),0,u));for(var h=a+1;h<=42-n&&(1===y.config.showMonths||u%7!=0);h++,u++)s.appendChild(R("flatpickr-day "+l,new Date(e,t+1,h%a),0,u));var p=c("div","dayContainer");return p.appendChild(s),p}function q(){if(void 0!==y.daysContainer){u(y.daysContainer),y.weekNumbers&&u(y.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<y.config.showMonths;t++){var n=new Date(y.currentYear,y.currentMonth,1);n.setMonth(y.currentMonth+t),e.appendChild(W(n.getFullYear(),n.getMonth()))}y.daysContainer.appendChild(e),y.days=y.daysContainer.firstChild,"range"===y.config.mode&&1===y.selectedDates.length&&se()}}function z(){if(!(y.config.showMonths>1||"dropdown"!==y.config.monthSelectorType)){var e=function(e){return!(void 0!==y.config.minDate&&y.currentYear===y.config.minDate.getFullYear()&&e<y.config.minDate.getMonth()||void 0!==y.config.maxDate&&y.currentYear===y.config.maxDate.getFullYear()&&e>y.config.maxDate.getMonth())};y.monthsDropdownContainer.tabIndex=-1,y.monthsDropdownContainer.innerHTML="";for(var t=0;t<12;t++)if(e(t)){var n=c("option","flatpickr-monthDropdown-month");n.value=new Date(y.currentYear,t).getMonth().toString(),n.textContent=m(t,y.config.shorthandCurrentMonth,y.l10n),n.tabIndex=-1,y.currentMonth===t&&(n.selected=!0),y.monthsDropdownContainer.appendChild(n)}}}function U(){var e,t=c("div","flatpickr-month"),n=window.document.createDocumentFragment();y.config.showMonths>1||"static"===y.config.monthSelectorType?e=c("span","cur-month"):(y.monthsDropdownContainer=c("select","flatpickr-monthDropdown-months"),y.monthsDropdownContainer.setAttribute("aria-label",y.l10n.monthAriaLabel),P(y.monthsDropdownContainer,"change",(function(e){var t=f(e),n=parseInt(t.value,10);y.changeMonth(n-y.currentMonth),be("onMonthChange")})),z(),e=y.monthsDropdownContainer);var i=p("cur-year",{tabindex:"-1"}),a=i.getElementsByTagName("input")[0];a.setAttribute("aria-label",y.l10n.yearAriaLabel),y.config.minDate&&a.setAttribute("min",y.config.minDate.getFullYear().toString()),y.config.maxDate&&(a.setAttribute("max",y.config.maxDate.getFullYear().toString()),a.disabled=!!y.config.minDate&&y.config.minDate.getFullYear()===y.config.maxDate.getFullYear());var s=c("div","flatpickr-current-month");return s.appendChild(e),s.appendChild(i),n.appendChild(s),t.appendChild(n),{container:t,yearElement:a,monthElement:e}}function K(){u(y.monthNav),y.monthNav.appendChild(y.prevMonthNav),y.config.showMonths&&(y.yearElements=[],y.monthElements=[]);for(var e=y.config.showMonths;e--;){var t=U();y.yearElements.push(t.yearElement),y.monthElements.push(t.monthElement),y.monthNav.appendChild(t.container)}y.monthNav.appendChild(y.nextMonthNav)}function J(){y.weekdayContainer?u(y.weekdayContainer):y.weekdayContainer=c("div","flatpickr-weekdays");for(var e=y.config.showMonths;e--;){var t=c("div","flatpickr-weekdaycontainer");y.weekdayContainer.appendChild(t)}return Z(),y.weekdayContainer}function Z(){if(y.weekdayContainer){var e=y.l10n.firstDayOfWeek,n=t(y.l10n.weekdays.shorthand);e>0&&e<n.length&&(n=t(n.splice(e,n.length),n.splice(0,e)));for(var i=y.config.showMonths;i--;)y.weekdayContainer.children[i].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+n.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function X(e,t){void 0===t&&(t=!0);var n=t?e:e-y.currentMonth;n<0&&!0===y._hidePrevMonthArrow||n>0&&!0===y._hideNextMonthArrow||(y.currentMonth+=n,(y.currentMonth<0||y.currentMonth>11)&&(y.currentYear+=y.currentMonth>11?1:-1,y.currentMonth=(y.currentMonth+12)%12,be("onYearChange"),z()),q(),be("onMonthChange"),xe())}function G(e){return y.calendarContainer.contains(e)}function Q(e){if(y.isOpen&&!y.config.inline){var t=f(e),n=G(t),i=!(t===y.input||t===y.altInput||y.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(y.input)||~e.path.indexOf(y.altInput))||n||G(e.relatedTarget)),a=!y.config.ignoredFocusElements.some((function(e){return e.contains(t)}));i&&a&&(y.config.allowInput&&y.setDate(y._input.value,!1,y.config.altInput?y.config.altFormat:y.config.dateFormat),void 0!==y.timeContainer&&void 0!==y.minuteElement&&void 0!==y.hourElement&&""!==y.input.value&&void 0!==y.input.value&&A(),y.close(),y.config&&"range"===y.config.mode&&1===y.selectedDates.length&&y.clear(!1))}}function ee(e){if(!(!e||y.config.minDate&&e<y.config.minDate.getFullYear()||y.config.maxDate&&e>y.config.maxDate.getFullYear())){var t=e,n=y.currentYear!==t;y.currentYear=t||y.currentYear,y.config.maxDate&&y.currentYear===y.config.maxDate.getFullYear()?y.currentMonth=Math.min(y.config.maxDate.getMonth(),y.currentMonth):y.config.minDate&&y.currentYear===y.config.minDate.getFullYear()&&(y.currentMonth=Math.max(y.config.minDate.getMonth(),y.currentMonth)),n&&(y.redraw(),be("onYearChange"),z())}}function te(e,t){var n;void 0===t&&(t=!0);var i=y.parseDate(e,void 0,t);if(y.config.minDate&&i&&_(i,y.config.minDate,void 0!==t?t:!y.minDateHasTime)<0||y.config.maxDate&&i&&_(i,y.config.maxDate,void 0!==t?t:!y.maxDateHasTime)>0)return!1;if(!y.config.enable&&0===y.config.disable.length)return!0;if(void 0===i)return!1;for(var a=!!y.config.enable,s=null!==(n=y.config.enable)&&void 0!==n?n:y.config.disable,r=0,o=void 0;r<s.length;r++){if("function"==typeof(o=s[r])&&o(i))return a;if(o instanceof Date&&void 0!==i&&o.getTime()===i.getTime())return a;if("string"==typeof o){var l=y.parseDate(o,void 0,!0);return l&&l.getTime()===i.getTime()?a:!a}if("object"==typeof o&&void 0!==i&&o.from&&o.to&&i.getTime()>=o.from.getTime()&&i.getTime()<=o.to.getTime())return a}return!a}function ne(e){return void 0!==y.daysContainer&&-1===e.className.indexOf("hidden")&&-1===e.className.indexOf("flatpickr-disabled")&&y.daysContainer.contains(e)}function ie(e){var t=e.target===y._input,n=y._input.value.trimEnd()!==_e();!t||!n||e.relatedTarget&&G(e.relatedTarget)||y.setDate(y._input.value,!0,e.target===y.altInput?y.config.altFormat:y.config.dateFormat)}function ae(e){var t=f(e),n=y.config.wrap?g.contains(t):t===y._input,i=y.config.allowInput,a=y.isOpen&&(!i||!n),s=y.config.inline&&n&&!i;if(13===e.keyCode&&n){if(i)return y.setDate(y._input.value,!0,t===y.altInput?y.config.altFormat:y.config.dateFormat),y.close(),t.blur();y.open()}else if(G(t)||a||s){var r=!!y.timeContainer&&y.timeContainer.contains(t);switch(e.keyCode){case 13:r?(e.preventDefault(),A(),he()):pe(e);break;case 27:e.preventDefault(),he();break;case 8:case 46:n&&!y.config.allowInput&&(e.preventDefault(),y.clear());break;case 37:case 39:if(r||n)y.hourElement&&y.hourElement.focus();else{e.preventDefault();var o=M();if(void 0!==y.daysContainer&&(!1===i||o&&ne(o))){var l=39===e.keyCode?1:-1;e.ctrlKey?(e.stopPropagation(),X(l),B(V(1),0)):B(void 0,l)}}break;case 38:case 40:e.preventDefault();var d=40===e.keyCode?1:-1;y.daysContainer&&void 0!==t.$i||t===y.input||t===y.altInput?e.ctrlKey?(e.stopPropagation(),ee(y.currentYear-d),B(V(1),0)):r||B(void 0,7*d):t===y.currentYearElement?ee(y.currentYear-d):y.config.enableTime&&(!r&&y.hourElement&&y.hourElement.focus(),A(e),y._debouncedChange());break;case 9:if(r){var c=[y.hourElement,y.minuteElement,y.secondElement,y.amPM].concat(y.pluginElements).filter((function(e){return e})),u=c.indexOf(t);if(-1!==u){var h=c[u+(e.shiftKey?-1:1)];e.preventDefault(),(h||y._input).focus()}}else!y.config.noCalendar&&y.daysContainer&&y.daysContainer.contains(t)&&e.shiftKey&&(e.preventDefault(),y._input.focus())}}if(void 0!==y.amPM&&t===y.amPM)switch(e.key){case y.l10n.amPM[0].charAt(0):case y.l10n.amPM[0].charAt(0).toLowerCase():y.amPM.textContent=y.l10n.amPM[0],I(),Te();break;case y.l10n.amPM[1].charAt(0):case y.l10n.amPM[1].charAt(0).toLowerCase():y.amPM.textContent=y.l10n.amPM[1],I(),Te()}(n||G(t))&&be("onKeyDown",e)}function se(e,t){if(void 0===t&&(t="flatpickr-day"),1===y.selectedDates.length&&(!e||e.classList.contains(t)&&!e.classList.contains("flatpickr-disabled"))){for(var n=e?e.dateObj.getTime():y.days.firstElementChild.dateObj.getTime(),i=y.parseDate(y.selectedDates[0],void 0,!0).getTime(),a=Math.min(n,y.selectedDates[0].getTime()),s=Math.max(n,y.selectedDates[0].getTime()),r=!1,o=0,l=0,d=a;d<s;d+=D)te(new Date(d),!0)||(r=r||d>a&&d<s,d<i&&(!o||d>o)?o=d:d>i&&(!l||d<l)&&(l=d));Array.from(y.rContainer.querySelectorAll("*:nth-child(-n+"+y.config.showMonths+") > ."+t)).forEach((function(t){var a,s,d,c=t.dateObj.getTime(),u=o>0&&c<o||l>0&&c>l;if(u)return t.classList.add("notAllowed"),void["inRange","startRange","endRange"].forEach((function(e){t.classList.remove(e)}));r&&!u||(["startRange","inRange","endRange","notAllowed"].forEach((function(e){t.classList.remove(e)})),void 0!==e&&(e.classList.add(n<=y.selectedDates[0].getTime()?"startRange":"endRange"),i<n&&c===i?t.classList.add("startRange"):i>n&&c===i&&t.classList.add("endRange"),c>=o&&(0===l||c<=l)&&(s=i,d=n,(a=c)>Math.min(s,d)&&a<Math.max(s,d))&&t.classList.add("inRange")))}))}}function re(){!y.isOpen||y.config.static||y.config.inline||ce()}function oe(e){return function(t){var n=y.config["_"+e+"Date"]=y.parseDate(t,y.config.dateFormat),i=y.config["_"+("min"===e?"max":"min")+"Date"];void 0!==n&&(y["min"===e?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0),y.selectedDates&&(y.selectedDates=y.selectedDates.filter((function(e){return te(e)})),y.selectedDates.length||"min"!==e||k(n),Te()),y.daysContainer&&(ue(),void 0!==n?y.currentYearElement[e]=n.getFullYear().toString():y.currentYearElement.removeAttribute(e),y.currentYearElement.disabled=!!i&&void 0!==n&&i.getFullYear()===n.getFullYear())}}function le(){return y.config.wrap?g.querySelector("[data-input]"):g}function de(){"object"!=typeof y.config.locale&&void 0===O.l10ns[y.config.locale]&&y.config.errorHandler(new Error("flatpickr: invalid locale "+y.config.locale)),y.l10n=e(e({},O.l10ns.default),"object"==typeof y.config.locale?y.config.locale:"default"!==y.config.locale?O.l10ns[y.config.locale]:void 0),b.D="("+y.l10n.weekdays.shorthand.join("|")+")",b.l="("+y.l10n.weekdays.longhand.join("|")+")",b.M="("+y.l10n.months.shorthand.join("|")+")",b.F="("+y.l10n.months.longhand.join("|")+")",b.K="("+y.l10n.amPM[0]+"|"+y.l10n.amPM[1]+"|"+y.l10n.amPM[0].toLowerCase()+"|"+y.l10n.amPM[1].toLowerCase()+")",void 0===e(e({},v),JSON.parse(JSON.stringify(g.dataset||{}))).time_24hr&&void 0===O.defaultConfig.time_24hr&&(y.config.time_24hr=y.l10n.time_24hr),y.formatDate=w(y),y.parseDate=x({config:y.config,l10n:y.l10n})}function ce(e){if("function"!=typeof y.config.position){if(void 0!==y.calendarContainer){be("onPreCalendarPosition");var t=e||y._positionElement,n=Array.prototype.reduce.call(y.calendarContainer.children,(function(e,t){return e+t.offsetHeight}),0),i=y.calendarContainer.offsetWidth,a=y.config.position.split(" "),s=a[0],r=a.length>1?a[1]:null,o=t.getBoundingClientRect(),l=window.innerHeight-o.bottom,c="above"===s||"below"!==s&&l<n&&o.top>n,u=window.pageYOffset+o.top+(c?-n-2:t.offsetHeight+2);if(d(y.calendarContainer,"arrowTop",!c),d(y.calendarContainer,"arrowBottom",c),!y.config.inline){var h=window.pageXOffset+o.left,p=!1,f=!1;"center"===r?(h-=(i-o.width)/2,p=!0):"right"===r&&(h-=i-o.width,f=!0),d(y.calendarContainer,"arrowLeft",!p&&!f),d(y.calendarContainer,"arrowCenter",p),d(y.calendarContainer,"arrowRight",f);var g=window.document.body.offsetWidth-(window.pageXOffset+o.right),m=h+i>window.document.body.offsetWidth,v=g+i>window.document.body.offsetWidth;if(d(y.calendarContainer,"rightMost",m),!y.config.static)if(y.calendarContainer.style.top=u+"px",m)if(v){var b=function(){for(var e=null,t=0;t<document.styleSheets.length;t++){var n=document.styleSheets[t];if(n.cssRules){try{n.cssRules}catch(e){continue}e=n;break}}return null!=e?e:(i=document.createElement("style"),document.head.appendChild(i),i.sheet);var i}();if(void 0===b)return;var w=window.document.body.offsetWidth,x=Math.max(0,w/2-i/2),_=b.cssRules.length,T="{left:"+o.left+"px;right:auto;}";d(y.calendarContainer,"rightMost",!1),d(y.calendarContainer,"centerMost",!0),b.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+T,_),y.calendarContainer.style.left=x+"px",y.calendarContainer.style.right="auto"}else y.calendarContainer.style.left="auto",y.calendarContainer.style.right=g+"px";else y.calendarContainer.style.left=h+"px",y.calendarContainer.style.right="auto"}}}else y.config.position(y,e)}function ue(){y.config.noCalendar||y.isMobile||(z(),xe(),q())}function he(){y._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(y.close,0):y.close()}function pe(e){e.preventDefault(),e.stopPropagation();var t=h(f(e),(function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")}));if(void 0!==t){var n=t,i=y.latestSelectedDateObj=new Date(n.dateObj.getTime()),a=(i.getMonth()<y.currentMonth||i.getMonth()>y.currentMonth+y.config.showMonths-1)&&"range"!==y.config.mode;if(y.selectedDateElem=n,"single"===y.config.mode)y.selectedDates=[i];else if("multiple"===y.config.mode){var s=we(i);s?y.selectedDates.splice(parseInt(s),1):y.selectedDates.push(i)}else"range"===y.config.mode&&(2===y.selectedDates.length&&y.clear(!1,!1),y.latestSelectedDateObj=i,y.selectedDates.push(i),0!==_(i,y.selectedDates[0],!0)&&y.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()})));if(I(),a){var r=y.currentYear!==i.getFullYear();y.currentYear=i.getFullYear(),y.currentMonth=i.getMonth(),r&&(be("onYearChange"),z()),be("onMonthChange")}if(xe(),q(),Te(),a||"range"===y.config.mode||1!==y.config.showMonths?void 0!==y.selectedDateElem&&void 0===y.hourElement&&y.selectedDateElem&&y.selectedDateElem.focus():Y(n),void 0!==y.hourElement&&void 0!==y.hourElement&&y.hourElement.focus(),y.config.closeOnSelect){var o="single"===y.config.mode&&!y.config.enableTime,l="range"===y.config.mode&&2===y.selectedDates.length&&!y.config.enableTime;(o||l)&&he()}H()}}y.parseDate=x({config:y.config,l10n:y.l10n}),y._handlers=[],y.pluginElements=[],y.loadedPlugins=[],y._bind=P,y._setHoursFromDate=k,y._positionCalendar=ce,y.changeMonth=X,y.changeYear=ee,y.clear=function(e,t){if(void 0===e&&(e=!0),void 0===t&&(t=!0),y.input.value="",void 0!==y.altInput&&(y.altInput.value=""),void 0!==y.mobileInput&&(y.mobileInput.value=""),y.selectedDates=[],y.latestSelectedDateObj=void 0,!0===t&&(y.currentYear=y._initialDate.getFullYear(),y.currentMonth=y._initialDate.getMonth()),!0===y.config.enableTime){var n=C(y.config);N(n.hours,n.minutes,n.seconds)}y.redraw(),e&&be("onChange")},y.close=function(){y.isOpen=!1,y.isMobile||(void 0!==y.calendarContainer&&y.calendarContainer.classList.remove("open"),void 0!==y._input&&y._input.classList.remove("active")),be("onClose")},y.onMouseOver=se,y._createElement=c,y.createDay=R,y.destroy=function(){void 0!==y.config&&be("onDestroy");for(var e=y._handlers.length;e--;)y._handlers[e].remove();if(y._handlers=[],y.mobileInput)y.mobileInput.parentNode&&y.mobileInput.parentNode.removeChild(y.mobileInput),y.mobileInput=void 0;else if(y.calendarContainer&&y.calendarContainer.parentNode)if(y.config.static&&y.calendarContainer.parentNode){var t=y.calendarContainer.parentNode;if(t.lastChild&&t.removeChild(t.lastChild),t.parentNode){for(;t.firstChild;)t.parentNode.insertBefore(t.firstChild,t);t.parentNode.removeChild(t)}}else y.calendarContainer.parentNode.removeChild(y.calendarContainer);y.altInput&&(y.input.type="text",y.altInput.parentNode&&y.altInput.parentNode.removeChild(y.altInput),delete y.altInput),y.input&&(y.input.type=y.input._type,y.input.classList.remove("flatpickr-input"),y.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(e){try{delete y[e]}catch(e){}}))},y.isEnabled=te,y.jumpToDate=$,y.updateValue=Te,y.open=function(e,t){if(void 0===t&&(t=y._positionElement),!0===y.isMobile){if(e){e.preventDefault();var n=f(e);n&&n.blur()}return void 0!==y.mobileInput&&(y.mobileInput.focus(),y.mobileInput.click()),void be("onOpen")}if(!y._input.disabled&&!y.config.inline){var i=y.isOpen;y.isOpen=!0,i||(y.calendarContainer.classList.add("open"),y._input.classList.add("active"),be("onOpen"),ce(t)),!0===y.config.enableTime&&!0===y.config.noCalendar&&(!1!==y.config.allowInput||void 0!==e&&y.timeContainer.contains(e.relatedTarget)||setTimeout((function(){return y.hourElement.select()}),50))}},y.redraw=ue,y.set=function(e,t){if(null!==e&&"object"==typeof e)for(var i in Object.assign(y.config,e),e)void 0!==fe[i]&&fe[i].forEach((function(e){return e()}));else y.config[e]=t,void 0!==fe[e]?fe[e].forEach((function(e){return e()})):n.indexOf(e)>-1&&(y.config[e]=l(t));y.redraw(),Te(!0)},y.setDate=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=y.config.dateFormat),0!==e&&!e||e instanceof Array&&0===e.length)return y.clear(t);ge(e,n),y.latestSelectedDateObj=y.selectedDates[y.selectedDates.length-1],y.redraw(),$(void 0,t),k(),0===y.selectedDates.length&&y.clear(!1),Te(t),t&&be("onChange")},y.toggle=function(e){if(!0===y.isOpen)return y.close();y.open(e)};var fe={locale:[de,Z],showMonths:[K,S,J],minDate:[$],maxDate:[$],positionElement:[ve],clickOpens:[function(){!0===y.config.clickOpens?(P(y._input,"focus",y.open),P(y._input,"click",y.open)):(y._input.removeEventListener("focus",y.open),y._input.removeEventListener("click",y.open))}]};function ge(e,t){var n=[];if(e instanceof Array)n=e.map((function(e){return y.parseDate(e,t)}));else if(e instanceof Date||"number"==typeof e)n=[y.parseDate(e,t)];else if("string"==typeof e)switch(y.config.mode){case"single":case"time":n=[y.parseDate(e,t)];break;case"multiple":n=e.split(y.config.conjunction).map((function(e){return y.parseDate(e,t)}));break;case"range":n=e.split(y.l10n.rangeSeparator).map((function(e){return y.parseDate(e,t)}))}else y.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));y.selectedDates=y.config.allowInvalidPreload?n:n.filter((function(e){return e instanceof Date&&te(e,!1)})),"range"===y.config.mode&&y.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()}))}function me(e){return e.slice().map((function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?y.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:y.parseDate(e.from,void 0),to:y.parseDate(e.to,void 0)}:e})).filter((function(e){return e}))}function ve(){y._positionElement=y.config.positionElement||y._input}function be(e,t){if(void 0!==y.config){var n=y.config[e];if(void 0!==n&&n.length>0)for(var i=0;n[i]&&i<n.length;i++)n[i](y.selectedDates,y.input.value,y,t);"onChange"===e&&(y.input.dispatchEvent(ye("change")),y.input.dispatchEvent(ye("input")))}}function ye(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function we(e){for(var t=0;t<y.selectedDates.length;t++){var n=y.selectedDates[t];if(n instanceof Date&&0===_(n,e))return""+t}return!1}function xe(){y.config.noCalendar||y.isMobile||!y.monthNav||(y.yearElements.forEach((function(e,t){var n=new Date(y.currentYear,y.currentMonth,1);n.setMonth(y.currentMonth+t),y.config.showMonths>1||"static"===y.config.monthSelectorType?y.monthElements[t].textContent=m(n.getMonth(),y.config.shorthandCurrentMonth,y.l10n)+" ":y.monthsDropdownContainer.value=n.getMonth().toString(),e.value=n.getFullYear().toString()})),y._hidePrevMonthArrow=void 0!==y.config.minDate&&(y.currentYear===y.config.minDate.getFullYear()?y.currentMonth<=y.config.minDate.getMonth():y.currentYear<y.config.minDate.getFullYear()),y._hideNextMonthArrow=void 0!==y.config.maxDate&&(y.currentYear===y.config.maxDate.getFullYear()?y.currentMonth+1>y.config.maxDate.getMonth():y.currentYear>y.config.maxDate.getFullYear()))}function _e(e){var t=e||(y.config.altInput?y.config.altFormat:y.config.dateFormat);return y.selectedDates.map((function(e){return y.formatDate(e,t)})).filter((function(e,t,n){return"range"!==y.config.mode||y.config.enableTime||n.indexOf(e)===t})).join("range"!==y.config.mode?y.config.conjunction:y.l10n.rangeSeparator)}function Te(e){void 0===e&&(e=!0),void 0!==y.mobileInput&&y.mobileFormatStr&&(y.mobileInput.value=void 0!==y.latestSelectedDateObj?y.formatDate(y.latestSelectedDateObj,y.mobileFormatStr):""),y.input.value=_e(y.config.dateFormat),void 0!==y.altInput&&(y.altInput.value=_e(y.config.altFormat)),!1!==e&&be("onValueUpdate")}function De(e){var t=f(e),n=y.prevMonthNav.contains(t),i=y.nextMonthNav.contains(t);n||i?X(n?-1:1):y.yearElements.indexOf(t)>=0?t.select():t.classList.contains("arrowUp")?y.changeYear(y.currentYear+1):t.classList.contains("arrowDown")&&y.changeYear(y.currentYear-1)}return function(){y.element=y.input=g,y.isOpen=!1,function(){var t=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],a=e(e({},JSON.parse(JSON.stringify(g.dataset||{}))),v),s={};y.config.parseDate=a.parseDate,y.config.formatDate=a.formatDate,Object.defineProperty(y.config,"enable",{get:function(){return y.config._enable},set:function(e){y.config._enable=me(e)}}),Object.defineProperty(y.config,"disable",{get:function(){return y.config._disable},set:function(e){y.config._disable=me(e)}});var r="time"===a.mode;if(!a.dateFormat&&(a.enableTime||r)){var o=O.defaultConfig.dateFormat||i.dateFormat;s.dateFormat=a.noCalendar||r?"H:i"+(a.enableSeconds?":S":""):o+" H:i"+(a.enableSeconds?":S":"")}if(a.altInput&&(a.enableTime||r)&&!a.altFormat){var d=O.defaultConfig.altFormat||i.altFormat;s.altFormat=a.noCalendar||r?"h:i"+(a.enableSeconds?":S K":" K"):d+" h:i"+(a.enableSeconds?":S":"")+" K"}Object.defineProperty(y.config,"minDate",{get:function(){return y.config._minDate},set:oe("min")}),Object.defineProperty(y.config,"maxDate",{get:function(){return y.config._maxDate},set:oe("max")});var c=function(e){return function(t){y.config["min"===e?"_minTime":"_maxTime"]=y.parseDate(t,"H:i:S")}};Object.defineProperty(y.config,"minTime",{get:function(){return y.config._minTime},set:c("min")}),Object.defineProperty(y.config,"maxTime",{get:function(){return y.config._maxTime},set:c("max")}),"time"===a.mode&&(y.config.noCalendar=!0,y.config.enableTime=!0),Object.assign(y.config,s,a);for(var u=0;u<t.length;u++)y.config[t[u]]=!0===y.config[t[u]]||"true"===y.config[t[u]];for(n.filter((function(e){return void 0!==y.config[e]})).forEach((function(e){y.config[e]=l(y.config[e]||[]).map(E)})),y.isMobile=!y.config.disableMobile&&!y.config.inline&&"single"===y.config.mode&&!y.config.disable.length&&!y.config.enable&&!y.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),u=0;u<y.config.plugins.length;u++){var h=y.config.plugins[u](y)||{};for(var p in h)n.indexOf(p)>-1?y.config[p]=l(h[p]).map(E).concat(y.config[p]):void 0===a[p]&&(y.config[p]=h[p])}a.altInputClass||(y.config.altInputClass=le().className+" "+y.config.altInputClass),be("onParseConfig")}(),de(),y.input=le(),y.input?(y.input._type=y.input.type,y.input.type="text",y.input.classList.add("flatpickr-input"),y._input=y.input,y.config.altInput&&(y.altInput=c(y.input.nodeName,y.config.altInputClass),y._input=y.altInput,y.altInput.placeholder=y.input.placeholder,y.altInput.disabled=y.input.disabled,y.altInput.required=y.input.required,y.altInput.tabIndex=y.input.tabIndex,y.altInput.type="text",y.input.setAttribute("type","hidden"),!y.config.static&&y.input.parentNode&&y.input.parentNode.insertBefore(y.altInput,y.input.nextSibling)),y.config.allowInput||y._input.setAttribute("readonly","readonly"),ve()):y.config.errorHandler(new Error("Invalid input element specified")),function(){y.selectedDates=[],y.now=y.parseDate(y.config.now)||new Date;var e=y.config.defaultDate||("INPUT"!==y.input.nodeName&&"TEXTAREA"!==y.input.nodeName||!y.input.placeholder||y.input.value!==y.input.placeholder?y.input.value:null);e&&ge(e,y.config.dateFormat),y._initialDate=y.selectedDates.length>0?y.selectedDates[0]:y.config.minDate&&y.config.minDate.getTime()>y.now.getTime()?y.config.minDate:y.config.maxDate&&y.config.maxDate.getTime()<y.now.getTime()?y.config.maxDate:y.now,y.currentYear=y._initialDate.getFullYear(),y.currentMonth=y._initialDate.getMonth(),y.selectedDates.length>0&&(y.latestSelectedDateObj=y.selectedDates[0]),void 0!==y.config.minTime&&(y.config.minTime=y.parseDate(y.config.minTime,"H:i")),void 0!==y.config.maxTime&&(y.config.maxTime=y.parseDate(y.config.maxTime,"H:i")),y.minDateHasTime=!!y.config.minDate&&(y.config.minDate.getHours()>0||y.config.minDate.getMinutes()>0||y.config.minDate.getSeconds()>0),y.maxDateHasTime=!!y.config.maxDate&&(y.config.maxDate.getHours()>0||y.config.maxDate.getMinutes()>0||y.config.maxDate.getSeconds()>0)}(),y.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=y.currentMonth),void 0===t&&(t=y.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:y.l10n.daysInMonth[e]}},y.isMobile||function(){var e=window.document.createDocumentFragment();if(y.calendarContainer=c("div","flatpickr-calendar"),y.calendarContainer.tabIndex=-1,!y.config.noCalendar){if(e.appendChild((y.monthNav=c("div","flatpickr-months"),y.yearElements=[],y.monthElements=[],y.prevMonthNav=c("span","flatpickr-prev-month"),y.prevMonthNav.innerHTML=y.config.prevArrow,y.nextMonthNav=c("span","flatpickr-next-month"),y.nextMonthNav.innerHTML=y.config.nextArrow,K(),Object.defineProperty(y,"_hidePrevMonthArrow",{get:function(){return y.__hidePrevMonthArrow},set:function(e){y.__hidePrevMonthArrow!==e&&(d(y.prevMonthNav,"flatpickr-disabled",e),y.__hidePrevMonthArrow=e)}}),Object.defineProperty(y,"_hideNextMonthArrow",{get:function(){return y.__hideNextMonthArrow},set:function(e){y.__hideNextMonthArrow!==e&&(d(y.nextMonthNav,"flatpickr-disabled",e),y.__hideNextMonthArrow=e)}}),y.currentYearElement=y.yearElements[0],xe(),y.monthNav)),y.innerContainer=c("div","flatpickr-innerContainer"),y.config.weekNumbers){var t=function(){y.calendarContainer.classList.add("hasWeeks");var e=c("div","flatpickr-weekwrapper");e.appendChild(c("span","flatpickr-weekday",y.l10n.weekAbbreviation));var t=c("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}(),n=t.weekWrapper,i=t.weekNumbers;y.innerContainer.appendChild(n),y.weekNumbers=i,y.weekWrapper=n}y.rContainer=c("div","flatpickr-rContainer"),y.rContainer.appendChild(J()),y.daysContainer||(y.daysContainer=c("div","flatpickr-days"),y.daysContainer.tabIndex=-1),q(),y.rContainer.appendChild(y.daysContainer),y.innerContainer.appendChild(y.rContainer),e.appendChild(y.innerContainer)}y.config.enableTime&&e.appendChild(function(){y.calendarContainer.classList.add("hasTime"),y.config.noCalendar&&y.calendarContainer.classList.add("noCalendar");var e=C(y.config);y.timeContainer=c("div","flatpickr-time"),y.timeContainer.tabIndex=-1;var t=c("span","flatpickr-time-separator",":"),n=p("flatpickr-hour",{"aria-label":y.l10n.hourAriaLabel});y.hourElement=n.getElementsByTagName("input")[0];var i=p("flatpickr-minute",{"aria-label":y.l10n.minuteAriaLabel});if(y.minuteElement=i.getElementsByTagName("input")[0],y.hourElement.tabIndex=y.minuteElement.tabIndex=-1,y.hourElement.value=s(y.latestSelectedDateObj?y.latestSelectedDateObj.getHours():y.config.time_24hr?e.hours:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(e.hours)),y.minuteElement.value=s(y.latestSelectedDateObj?y.latestSelectedDateObj.getMinutes():e.minutes),y.hourElement.setAttribute("step",y.config.hourIncrement.toString()),y.minuteElement.setAttribute("step",y.config.minuteIncrement.toString()),y.hourElement.setAttribute("min",y.config.time_24hr?"0":"1"),y.hourElement.setAttribute("max",y.config.time_24hr?"23":"12"),y.hourElement.setAttribute("maxlength","2"),y.minuteElement.setAttribute("min","0"),y.minuteElement.setAttribute("max","59"),y.minuteElement.setAttribute("maxlength","2"),y.timeContainer.appendChild(n),y.timeContainer.appendChild(t),y.timeContainer.appendChild(i),y.config.time_24hr&&y.timeContainer.classList.add("time24hr"),y.config.enableSeconds){y.timeContainer.classList.add("hasSeconds");var a=p("flatpickr-second");y.secondElement=a.getElementsByTagName("input")[0],y.secondElement.value=s(y.latestSelectedDateObj?y.latestSelectedDateObj.getSeconds():e.seconds),y.secondElement.setAttribute("step",y.minuteElement.getAttribute("step")),y.secondElement.setAttribute("min","0"),y.secondElement.setAttribute("max","59"),y.secondElement.setAttribute("maxlength","2"),y.timeContainer.appendChild(c("span","flatpickr-time-separator",":")),y.timeContainer.appendChild(a)}return y.config.time_24hr||(y.amPM=c("span","flatpickr-am-pm",y.l10n.amPM[r((y.latestSelectedDateObj?y.hourElement.value:y.config.defaultHour)>11)]),y.amPM.title=y.l10n.toggleTitle,y.amPM.tabIndex=-1,y.timeContainer.appendChild(y.amPM)),y.timeContainer}()),d(y.calendarContainer,"rangeMode","range"===y.config.mode),d(y.calendarContainer,"animate",!0===y.config.animate),d(y.calendarContainer,"multiMonth",y.config.showMonths>1),y.calendarContainer.appendChild(e);var a=void 0!==y.config.appendTo&&void 0!==y.config.appendTo.nodeType;if((y.config.inline||y.config.static)&&(y.calendarContainer.classList.add(y.config.inline?"inline":"static"),y.config.inline&&(!a&&y.element.parentNode?y.element.parentNode.insertBefore(y.calendarContainer,y._input.nextSibling):void 0!==y.config.appendTo&&y.config.appendTo.appendChild(y.calendarContainer)),y.config.static)){var o=c("div","flatpickr-wrapper");y.element.parentNode&&y.element.parentNode.insertBefore(o,y.element),o.appendChild(y.element),y.altInput&&o.appendChild(y.altInput),o.appendChild(y.calendarContainer)}y.config.static||y.config.inline||(void 0!==y.config.appendTo?y.config.appendTo:window.document.body).appendChild(y.calendarContainer)}(),function(){if(y.config.wrap&&["open","close","toggle","clear"].forEach((function(e){Array.prototype.forEach.call(y.element.querySelectorAll("[data-"+e+"]"),(function(t){return P(t,"click",y[e])}))})),y.isMobile)!function(){var e=y.config.enableTime?y.config.noCalendar?"time":"datetime-local":"date";y.mobileInput=c("input",y.input.className+" flatpickr-mobile"),y.mobileInput.tabIndex=1,y.mobileInput.type=e,y.mobileInput.disabled=y.input.disabled,y.mobileInput.required=y.input.required,y.mobileInput.placeholder=y.input.placeholder,y.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",y.selectedDates.length>0&&(y.mobileInput.defaultValue=y.mobileInput.value=y.formatDate(y.selectedDates[0],y.mobileFormatStr)),y.config.minDate&&(y.mobileInput.min=y.formatDate(y.config.minDate,"Y-m-d")),y.config.maxDate&&(y.mobileInput.max=y.formatDate(y.config.maxDate,"Y-m-d")),y.input.getAttribute("step")&&(y.mobileInput.step=String(y.input.getAttribute("step"))),y.input.type="hidden",void 0!==y.altInput&&(y.altInput.type="hidden");try{y.input.parentNode&&y.input.parentNode.insertBefore(y.mobileInput,y.input.nextSibling)}catch(e){}P(y.mobileInput,"change",(function(e){y.setDate(f(e).value,!1,y.mobileFormatStr),be("onChange"),be("onClose")}))}();else{var e=o(re,50);if(y._debouncedChange=o(H,300),y.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&P(y.daysContainer,"mouseover",(function(e){"range"===y.config.mode&&se(f(e))})),P(y._input,"keydown",ae),void 0!==y.calendarContainer&&P(y.calendarContainer,"keydown",ae),y.config.inline||y.config.static||P(window,"resize",e),void 0!==window.ontouchstart?P(window.document,"touchstart",Q):P(window.document,"mousedown",Q),P(window.document,"focus",Q,{capture:!0}),!0===y.config.clickOpens&&(P(y._input,"focus",y.open),P(y._input,"click",y.open)),void 0!==y.daysContainer&&(P(y.monthNav,"click",De),P(y.monthNav,["keyup","increment"],L),P(y.daysContainer,"click",pe)),void 0!==y.timeContainer&&void 0!==y.minuteElement&&void 0!==y.hourElement){P(y.timeContainer,["increment"],A),P(y.timeContainer,"blur",A,{capture:!0}),P(y.timeContainer,"click",j),P([y.hourElement,y.minuteElement],["focus","click"],(function(e){return f(e).select()})),void 0!==y.secondElement&&P(y.secondElement,"focus",(function(){return y.secondElement&&y.secondElement.select()})),void 0!==y.amPM&&P(y.amPM,"click",(function(e){A(e)}))}y.config.allowInput&&P(y._input,"blur",ie)}}(),(y.selectedDates.length||y.config.noCalendar)&&(y.config.enableTime&&k(y.config.noCalendar?y.latestSelectedDateObj:void 0),Te(!1)),S();var t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!y.isMobile&&t&&ce(),be("onReady")}(),y}function E(e,t){for(var n=Array.prototype.slice.call(e).filter((function(e){return e instanceof HTMLElement})),i=[],a=0;a<n.length;a++){var s=n[a];try{if(null!==s.getAttribute("data-fp-omit"))continue;void 0!==s._flatpickr&&(s._flatpickr.destroy(),s._flatpickr=void 0),s._flatpickr=M(s,t||{}),i.push(s._flatpickr)}catch(e){console.error(e)}}return 1===i.length?i[0]:i}"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var i=function(t){t&&Object.keys(t).forEach((function(n){return e[n]=t[n]}))},a=0,s=t;a<s.length;a++){i(s[a])}return e}),"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return E(this,e)},HTMLElement.prototype.flatpickr=function(e){return E([this],e)});var O=function(e,t){return"string"==typeof e?E(window.document.querySelectorAll(e),t):e instanceof Node?E([e],t):E(e,t)};return O.defaultConfig={},O.l10ns={en:e({},a),default:e({},a)},O.localize=function(t){O.l10ns.default=e(e({},O.l10ns.default),t)},O.setDefaults=function(t){O.defaultConfig=e(e({},O.defaultConfig),t)},O.parseDate=x({}),O.formatDate=w({}),O.compareDates=_,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(e){return E(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=O),O})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).rangePlugin=t()}(this,(function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function e(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),a=0;for(t=0;t<n;t++)for(var s=arguments[t],r=0,o=s.length;r<o;r++,a++)i[a]=s[r];return i}return function(t){return void 0===t&&(t={}),function(n){var i,a,s,r="",o={onParseConfig:function(){n.config.mode="range",r=n.config.altInput?n.config.altFormat:n.config.dateFormat},onReady:function(){!function(){if(t.input){if(!(i=t.input instanceof Element?t.input:window.document.querySelector(t.input)))return void n.config.errorHandler(new Error("Invalid input element specified"));n.config.wrap&&(i=i.querySelector("[data-input]"))}else(i=n._input.cloneNode()).removeAttribute("id"),i._flatpickr=void 0;if(i.value){var e=n.parseDate(i.value);e&&n.selectedDates.push(e)}i.setAttribute("data-fp-omit",""),n.config.clickOpens&&(n._bind(i,["focus","click"],(function(){n.selectedDates[1]&&(n.latestSelectedDateObj=n.selectedDates[1],n._setHoursFromDate(n.selectedDates[1]),n.jumpToDate(n.selectedDates[1])),a=!0,n.isOpen=!1,n.open(void 0,"left"===t.position?n._input:i)})),n._bind(n._input,["focus","click"],(function(e){e.preventDefault(),n.isOpen=!1,n.open()}))),n.config.allowInput&&n._bind(i,"keydown",(function(e){"Enter"===e.key&&(n.setDate([n.selectedDates[0],i.value],!0,r),i.click())})),t.input||n._input.parentNode&&n._input.parentNode.insertBefore(i,n._input.nextSibling)}(),n.config.ignoredFocusElements.push(i),n.config.allowInput?(n._input.removeAttribute("readonly"),i.removeAttribute("readonly")):i.setAttribute("readonly","readonly"),n._bind(n._input,"focus",(function(){n.latestSelectedDateObj=n.selectedDates[0],n._setHoursFromDate(n.selectedDates[0]),a=!1,n.jumpToDate(n.selectedDates[0])})),n.config.allowInput&&n._bind(n._input,"keydown",(function(e){"Enter"===e.key&&n.setDate([n._input.value,n.selectedDates[1]],!0,r)})),n.setDate(n.selectedDates,!1),o.onValueUpdate(n.selectedDates),n.loadedPlugins.push("range")},onPreCalendarPosition:function(){a&&(n._positionElement=i,setTimeout((function(){n._positionElement=n._input}),0))},onChange:function(){n.selectedDates.length||setTimeout((function(){n.selectedDates.length||(i.value="",s=[])}),10),a&&setTimeout((function(){i.focus()}),0)},onDestroy:function(){t.input||i.parentNode&&i.parentNode.removeChild(i)},onValueUpdate:function(t){var o,l,d;if(i){if((s=!s||t.length>=s.length?e(t):s).length>t.length){var c=t[0],u=a?[s[0],c]:[c,s[1]];u[0].getTime()>u[1].getTime()&&(a?u[0]=u[1]:u[1]=u[0]),n.setDate(u,!1),s=e(u)}l=(o=n.selectedDates.map((function(e){return n.formatDate(e,r)})))[0],n._input.value=void 0===l?"":l,d=o[1],i.value=void 0===d?"":d}}};return o}}})),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).simpleDatatables=e()}}((function(){return function e(t,n,i){function a(r,o){if(!n[r]){if(!t[r]){var l="function"==typeof require&&require;if(!o&&l)return l(r,!0);if(s)return s(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var c=n[r]={exports:{}};t[r][0].call(c.exports,(function(e){return a(t[r][1][e]||e)}),c,c.exports,e,t,n,i)}return n[r].exports}for(var s="function"==typeof require&&require,r=0;r<i.length;r++)a(i[r]);return a}({1:[function(e,t,n){(function(e){(function(){"use strict";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e||"undefined"!=typeof self&&self;var t={exports:{}}.exports=function(){var e=6e4,t=36e5,n="millisecond",i="second",a="minute",s="hour",r="day",o="week",l="month",d="quarter",c="year",u="date",h="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m=function(e,t,n){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(n)+e},v={s:m,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),i=Math.floor(n/60),a=n%60;return(t<=0?"+":"-")+m(i,2,"0")+":"+m(a,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var i=12*(n.year()-t.year())+(n.month()-t.month()),a=t.clone().add(i,l),s=n-a<0,r=t.clone().add(i+(s?-1:1),l);return+(-(i+(n-a)/(s?a-r:r-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:c,w:o,d:r,D:u,h:s,m:a,s:i,ms:n,Q:d}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",y={};y[b]=g;var w=function(e){return e instanceof D},x=function e(t,n,i){var a;if(!t)return b;if("string"==typeof t){var s=t.toLowerCase();y[s]&&(a=s),n&&(y[s]=n,a=s);var r=t.split("-");if(!a&&r.length>1)return e(r[0])}else{var o=t.name;y[o]=t,a=o}return!i&&a&&(b=a),a||!i&&b},_=function(e,t){if(w(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new D(n)},T=v;T.l=x,T.i=w,T.w=function(e,t){return _(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var D=function(){function g(e){this.$L=x(e.locale,null,!0),this.parse(e)}var m=g.prototype;return m.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(T.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var i=t.match(p);if(i){var a=i[2]-1||0,s=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],a,i[3]||1,i[4]||0,i[5]||0,i[6]||0,s)):new Date(i[1],a,i[3]||1,i[4]||0,i[5]||0,i[6]||0,s)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},m.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},m.$utils=function(){return T},m.isValid=function(){return!(this.$d.toString()===h)},m.isSame=function(e,t){var n=_(e);return this.startOf(t)<=n&&n<=this.endOf(t)},m.isAfter=function(e,t){return _(e)<this.startOf(t)},m.isBefore=function(e,t){return this.endOf(t)<_(e)},m.$g=function(e,t,n){return T.u(e)?this[t]:this.set(n,e)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(e,t){var n=this,d=!!T.u(t)||t,h=T.p(e),p=function(e,t){var i=T.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return d?i:i.endOf(r)},f=function(e,t){return T.w(n.toDate()[e].apply(n.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},g=this.$W,m=this.$M,v=this.$D,b="set"+(this.$u?"UTC":"");switch(h){case c:return d?p(1,0):p(31,11);case l:return d?p(1,m):p(0,m+1);case o:var y=this.$locale().weekStart||0,w=(g<y?g+7:g)-y;return p(d?v-w:v+(6-w),m);case r:case u:return f(b+"Hours",0);case s:return f(b+"Minutes",1);case a:return f(b+"Seconds",2);case i:return f(b+"Milliseconds",3);default:return this.clone()}},m.endOf=function(e){return this.startOf(e,!1)},m.$set=function(e,t){var o,d=T.p(e),h="set"+(this.$u?"UTC":""),p=(o={},o[r]=h+"Date",o[u]=h+"Date",o[l]=h+"Month",o[c]=h+"FullYear",o[s]=h+"Hours",o[a]=h+"Minutes",o[i]=h+"Seconds",o[n]=h+"Milliseconds",o)[d],f=d===r?this.$D+(t-this.$W):t;if(d===l||d===c){var g=this.clone().set(u,1);g.$d[p](f),g.init(),this.$d=g.set(u,Math.min(this.$D,g.daysInMonth())).$d}else p&&this.$d[p](f);return this.init(),this},m.set=function(e,t){return this.clone().$set(e,t)},m.get=function(e){return this[T.p(e)]()},m.add=function(n,d){var u,h=this;n=Number(n);var p=T.p(d),f=function(e){var t=_(h);return T.w(t.date(t.date()+Math.round(e*n)),h)};if(p===l)return this.set(l,this.$M+n);if(p===c)return this.set(c,this.$y+n);if(p===r)return f(1);if(p===o)return f(7);var g=(u={},u[a]=e,u[s]=t,u[i]=1e3,u)[p]||1,m=this.$d.getTime()+n*g;return T.w(m,this)},m.subtract=function(e,t){return this.add(-1*e,t)},m.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var i=e||"YYYY-MM-DDTHH:mm:ssZ",a=T.z(this),s=this.$H,r=this.$m,o=this.$M,l=n.weekdays,d=n.months,c=function(e,n,a,s){return e&&(e[n]||e(t,i))||a[n].slice(0,s)},u=function(e){return T.s(s%12||12,e,"0")},p=n.meridiem||function(e,t,n){var i=e<12?"AM":"PM";return n?i.toLowerCase():i},g={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:T.s(o+1,2,"0"),MMM:c(n.monthsShort,o,d,3),MMMM:c(d,o),D:this.$D,DD:T.s(this.$D,2,"0"),d:String(this.$W),dd:c(n.weekdaysMin,this.$W,l,2),ddd:c(n.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(s),HH:T.s(s,2,"0"),h:u(1),hh:u(2),a:p(s,r,!0),A:p(s,r,!1),m:String(r),mm:T.s(r,2,"0"),s:String(this.$s),ss:T.s(this.$s,2,"0"),SSS:T.s(this.$ms,3,"0"),Z:a};return i.replace(f,(function(e,t){return t||g[e]||a.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(n,u,h){var p,f=T.p(u),g=_(n),m=(g.utcOffset()-this.utcOffset())*e,v=this-g,b=T.m(this,g);return b=(p={},p[c]=b/12,p[l]=b,p[d]=b/3,p[o]=(v-m)/6048e5,p[r]=(v-m)/864e5,p[s]=v/t,p[a]=v/e,p[i]=v/1e3,p)[f]||v,h?b:T.a(b)},m.daysInMonth=function(){return this.endOf(l).$D},m.$locale=function(){return y[this.$L]},m.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),i=x(e,t,!0);return i&&(n.$L=i),n},m.clone=function(){return T.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},g}(),C=D.prototype;return _.prototype=C,[["$ms",n],["$s",i],["$m",a],["$H",s],["$W",r],["$M",l],["$y",c],["$D",u]].forEach((function(e){C[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),_.extend=function(e,t){return e.$i||(e(t,D,_),e.$i=!0),_},_.locale=x,_.isDayjs=w,_.unix=function(e){return _(1e3*e)},_.en=y[b],_.Ls=y,_.p={},_}(),i={exports:{}}.exports=function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,i=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,s={},r=function(e){return(e=+e)+(e>68?1900:2e3)},o=function(e){return function(t){this[e]=+t}},l=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],d=function(e){var t=s[e];return t&&(t.indexOf?t:t.s.concat(t.f))},c=function(e,t){var n,i=s.meridiem;if(i){for(var a=1;a<=24;a+=1)if(e.indexOf(i(a,0,t))>-1){n=a>12;break}}else n=e===(t?"pm":"PM");return n},u={A:[a,function(e){this.afternoon=c(e,!1)}],a:[a,function(e){this.afternoon=c(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[n,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[i,o("seconds")],ss:[i,o("seconds")],m:[i,o("minutes")],mm:[i,o("minutes")],H:[i,o("hours")],h:[i,o("hours")],HH:[i,o("hours")],hh:[i,o("hours")],D:[i,o("day")],DD:[n,o("day")],Do:[a,function(e){var t=s.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var i=1;i<=31;i+=1)t(i).replace(/\[|\]/g,"")===e&&(this.day=i)}],M:[i,o("month")],MM:[n,o("month")],MMM:[a,function(e){var t=d("months"),n=(d("monthsShort")||t.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[a,function(e){var t=d("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,o("year")],YY:[n,function(e){this.year=r(e)}],YYYY:[/\d{4}/,o("year")],Z:l,ZZ:l};function h(n){var i,a;i=n,a=s&&s.formats;for(var r=(n=i.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,i){var s=i&&i.toUpperCase();return n||a[i]||e[i]||a[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))).match(t),o=r.length,l=0;l<o;l+=1){var d=r[l],c=u[d],h=c&&c[0],p=c&&c[1];r[l]=p?{regex:h,parser:p}:d.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,i=0;n<o;n+=1){var a=r[n];if("string"==typeof a)i+=a.length;else{var s=a.regex,l=a.parser,d=e.slice(i),c=s.exec(d)[0];l.call(t,c),e=e.replace(c,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(r=e.parseTwoDigitYear);var i=t.prototype,a=i.parse;i.parse=function(e){var t=e.date,i=e.utc,r=e.args;this.$u=i;var o=r[1];if("string"==typeof o){var l=!0===r[2],d=!0===r[3],c=l||d,u=r[2];d&&(u=r[2]),s=this.$locale(),!l&&u&&(s=n.Ls[u]),this.$d=function(e,t,n){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var i=h(t)(e),a=i.year,s=i.month,r=i.day,o=i.hours,l=i.minutes,d=i.seconds,c=i.milliseconds,u=i.zone,p=new Date,f=r||(a||s?1:p.getDate()),g=a||p.getFullYear(),m=0;a&&!s||(m=s>0?s-1:p.getMonth());var v=o||0,b=l||0,y=d||0,w=c||0;return u?new Date(Date.UTC(g,m,f,v,b,y,w+60*u.offset*1e3)):n?new Date(Date.UTC(g,m,f,v,b,y,w)):new Date(g,m,f,v,b,y,w)}catch(e){return new Date("")}}(t,o,i),this.init(),u&&!0!==u&&(this.$L=this.locale(u).$L),c&&t!=this.format(o)&&(this.$d=new Date("")),s={}}else if(o instanceof Array)for(var p=o.length,f=1;f<=p;f+=1){r[1]=o[f-1];var g=n.apply(this,r);if(g.isValid()){this.$d=g.$d,this.$L=g.$L,this.init();break}f===p&&(this.$d=new Date(""))}else a.call(this,e)}}}();t.extend(i),n.parseDate=(e,n)=>{let i=!1;if(n)switch(n){case"ISO_8601":i=e;break;case"RFC_2822":i=t(e.slice(5),"DD MMM YYYY HH:mm:ss ZZ").unix();break;case"MYSQL":i=t(e,"YYYY-MM-DD hh:mm:ss").unix();break;case"UNIX":i=t(e).unix();break;default:i=t(e,n,!0).valueOf()}return i}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=e=>"[object Object]"===Object.prototype.toString.call(e),a=(e,t)=>{const n=document.createElement(e);if(t&&"object"==typeof t)for(const e in t)"html"===e?n.innerHTML=t[e]:n.setAttribute(e,t[e]);return n},s=e=>{e instanceof NodeList?e.forEach((e=>s(e))):e.innerHTML=""},r=(e,t,n)=>a("li",{class:e,html:`<a href="#" data-page="${t}">${n}</a>`}),o=(e,t)=>{let n,i;1===t?(n=0,i=e.length):-1===t&&(n=e.length-1,i=-1);for(let a=!0;a;){a=!1;for(let s=n;s!=i;s+=t)if(e[s+t]&&e[s].value>e[s+t].value){const n=e[s],i=e[s+t],r=n;e[s]=i,e[s+t]=r,a=!0}}return e};class l{constructor(e,t){return this.dt=e,this.rows=t,this}build(e){const t=a("tr");let n=this.dt.headings;return n.length||(n=e.map((()=>""))),n.forEach(((n,i)=>{const s=a("td");e[i]&&e[i].length||(e[i]=""),s.innerHTML=e[i],s.data=e[i],t.appendChild(s)})),t}render(e){return e}add(e){if(Array.isArray(e)){const t=this.dt;Array.isArray(e[0])?e.forEach((e=>{t.data.push(this.build(e))})):t.data.push(this.build(e)),t.data.length&&(t.hasRows=!0),this.update(),t.columns().rebuild()}}remove(e){const t=this.dt;Array.isArray(e)?(e.sort(((e,t)=>t-e)),e.forEach((e=>{t.data.splice(e,1)}))):"all"==e?t.data=[]:t.data.splice(e,1),t.data.length||(t.hasRows=!1),this.update(),t.columns().rebuild()}update(){this.dt.data.forEach(((e,t)=>{e.dataIndex=t}))}findRowIndex(e,t){return this.dt.data.findIndex((n=>n.children[e].innerText.toLowerCase().includes(String(t).toLowerCase())))}findRow(e,t){const n=this.findRowIndex(e,t);if(n<0)return{index:-1,row:null,cols:[]};const i=this.dt.data[n];return{index:n,row:i,cols:[...i.cells].map((e=>e.innerHTML))}}updateRow(e,t){const n=this.build(t);this.dt.data.splice(e,1,n),this.update(),this.dt.columns().rebuild()}}class d{constructor(e){return this.dt=e,this}swap(e){if(e.length&&2===e.length){const t=[];this.dt.headings.forEach(((e,n)=>{t.push(n)}));const n=e[0],i=e[1],a=t[i];t[i]=t[n],t[n]=a,this.order(t)}}order(e){let t,n,i,a,s,r,o;const l=[[],[],[],[]],d=this.dt;e.forEach(((e,i)=>{s=d.headings[e],r="false"!==s.getAttribute("data-sortable"),t=s.cloneNode(!0),t.originalCellIndex=i,t.sortable=r,l[0].push(t),d.hiddenColumns.includes(e)||(n=s.cloneNode(!0),n.originalCellIndex=i,n.sortable=r,l[1].push(n))})),d.data.forEach(((t,n)=>{i=t.cloneNode(!1),a=t.cloneNode(!1),i.dataIndex=a.dataIndex=n,null!==t.searchIndex&&void 0!==t.searchIndex&&(i.searchIndex=a.searchIndex=t.searchIndex),e.forEach((e=>{o=t.cells[e].cloneNode(!0),o.data=t.cells[e].data,i.appendChild(o),d.hiddenColumns.includes(e)||(o=t.cells[e].cloneNode(!0),o.data=t.cells[e].data,a.appendChild(o))})),l[2].push(i),l[3].push(a)})),d.headings=l[0],d.activeHeadings=l[1],d.data=l[2],d.activeRows=l[3],d.update()}hide(e){if(e.length){const t=this.dt;e.forEach((e=>{t.hiddenColumns.includes(e)||t.hiddenColumns.push(e)})),this.rebuild()}}show(e){if(e.length){let t;const n=this.dt;e.forEach((e=>{t=n.hiddenColumns.indexOf(e),t>-1&&n.hiddenColumns.splice(t,1)})),this.rebuild()}}visible(e){let t;const n=this.dt;return e=e||n.headings.map((e=>e.originalCellIndex)),isNaN(e)?Array.isArray(e)&&(t=[],e.forEach((e=>{t.push(!n.hiddenColumns.includes(e))}))):t=!n.hiddenColumns.includes(e),t}add(e){let t;const n=document.createElement("th");if(!this.dt.headings.length)return this.dt.insert({headings:[e.heading],data:e.data.map((e=>[e]))}),void this.rebuild();this.dt.hiddenHeader?n.innerHTML="":e.heading.nodeName?n.appendChild(e.heading):n.innerHTML=e.heading,this.dt.headings.push(n),this.dt.data.forEach(((n,i)=>{e.data[i]&&(t=document.createElement("td"),e.data[i].nodeName?t.appendChild(e.data[i]):t.innerHTML=e.data[i],t.data=t.innerHTML,e.render&&(t.innerHTML=e.render.call(this,t.data,t,n)),n.appendChild(t))})),e.type&&n.setAttribute("data-type",e.type),e.format&&n.setAttribute("data-format",e.format),e.hasOwnProperty("sortable")&&(n.sortable=e.sortable,n.setAttribute("data-sortable",!0===e.sortable?"true":"false")),this.rebuild(),this.dt.renderHeader()}remove(e){Array.isArray(e)?(e.sort(((e,t)=>t-e)),e.forEach((e=>this.remove(e)))):(this.dt.headings.splice(e,1),this.dt.data.forEach((t=>{t.removeChild(t.cells[e])}))),this.rebuild()}filter(e,t,n,i){const a=this.dt;if(a.filterState||(a.filterState={originalData:a.data}),!a.filterState[e]){const t=[...i,()=>!0];a.filterState[e]=function(){let e=0;return()=>t[e++%t.length]}()}const s=a.filterState[e](),r=Array.from(a.filterState.originalData).filter((t=>{const n=t.cells[e],i=n.hasAttribute("data-content")?n.getAttribute("data-content"):n.innerText;return"function"==typeof s?s(i):i===s}));a.data=r,a.data.length?(this.rebuild(),a.update()):(a.clear(),a.hasRows=!1,a.setMessage(a.options.labels.noRows)),n||a.emit("datatable.sort",e,t)}sort(t,n,i){const a=this.dt;if(a.hasHeadings&&(t<0||t>a.headings.length))return!1;const s=a.options.filters&&a.options.filters[a.headings[t].textContent];if(s&&0!==s.length)return void this.filter(t,n,i,s);a.sorting=!0,i||a.emit("datatable.sorting",t,n);let r=a.data;const l=[],d=[];let c=0,u=0;const h=a.headings[t],p=[];if("date"===h.getAttribute("data-type")){let t=!1;h.hasAttribute("data-format")&&(t=h.getAttribute("data-format")),p.push(Promise.resolve().then((function(){return e("./date-7061ceee.js")})).then((({parseDate:e})=>n=>e(n,t))))}Promise.all(p).then((e=>{const s=e[0];let p,f;Array.from(r).forEach((e=>{const n=e.cells[t],i=n.hasAttribute("data-content")?n.getAttribute("data-content"):n.innerText;let a;a=s?s(i):"string"==typeof i?i.replace(/(\$|,|\s|%)/g,""):i,parseFloat(a)==a?d[u++]={value:Number(a),row:e}:l[c++]={value:"string"==typeof i?i.toLowerCase():i,row:e}})),n||(n=h.classList.contains("asc")?"desc":"asc"),"desc"==n?(p=o(l,-1),f=o(d,-1),h.classList.remove("asc"),h.classList.add("desc")):(p=o(d,1),f=o(l,1),h.classList.remove("desc"),h.classList.add("asc")),a.lastTh&&h!=a.lastTh&&(a.lastTh.classList.remove("desc"),a.lastTh.classList.remove("asc")),a.lastTh=h,r=p.concat(f),a.data=[];const g=[];r.forEach(((e,t)=>{a.data.push(e.row),null!==e.row.searchIndex&&void 0!==e.row.searchIndex&&g.push(t)})),a.searchData=g,this.rebuild(),a.update(),i||a.emit("datatable.sort",t,n)}))}rebuild(){let e,t,n,i;const a=this.dt,s=[];a.activeRows=[],a.activeHeadings=[],a.headings.forEach(((e,t)=>{e.originalCellIndex=t,e.sortable="false"!==e.getAttribute("data-sortable"),a.hiddenColumns.includes(t)||a.activeHeadings.push(e)})),a.data.forEach(((r,o)=>{e=r.cloneNode(!1),t=r.cloneNode(!1),e.dataIndex=t.dataIndex=o,null!==r.searchIndex&&void 0!==r.searchIndex&&(e.searchIndex=t.searchIndex=r.searchIndex),Array.from(r.cells).forEach((s=>{n=s.cloneNode(!0),n.data=s.data,e.appendChild(n),a.hiddenColumns.includes(n.cellIndex)||(i=n.cloneNode(!0),i.data=n.data,t.appendChild(i))})),s.push(e),a.activeRows.push(t)})),a.data=s,a.update()}}const c=function(e){let t=!1,n=!1;if((e=e||this.options.data).headings){t=a("thead");const n=a("tr");e.headings.forEach((e=>{const t=a("th",{html:e});n.appendChild(t)})),t.appendChild(n)}e.data&&e.data.length&&(n=a("tbody"),e.data.forEach((t=>{if(e.headings&&e.headings.length!==t.length)throw new Error("The number of rows do not match the number of headings.");const i=a("tr");t.forEach((e=>{const t=a("td",{html:e});i.appendChild(t)})),n.appendChild(i)}))),t&&(null!==this.dom.tHead&&this.dom.removeChild(this.dom.tHead),this.dom.appendChild(t)),n&&(this.dom.tBodies.length&&this.dom.removeChild(this.dom.tBodies[0]),this.dom.appendChild(n))},u={sortable:!0,searchable:!0,paging:!0,perPage:10,perPageSelect:[5,10,15,20,25],nextPrev:!0,firstLast:!1,prevText:"&lsaquo;",nextText:"&rsaquo;",firstText:"&laquo;",lastText:"&raquo;",ellipsisText:"&hellip;",ascText:"",descText:"",truncatePager:!0,pagerDelta:2,scrollY:"",fixedColumns:!0,fixedHeight:!1,header:!0,hiddenHeader:!1,footer:!1,labels:{placeholder:"Search...",perPage:"{select} entries per page",noRows:"No entries found",noResults:"No results match your search query",info:"Showing {start} to {end} of {rows} entries"},layout:{top:"{select}{search}",bottom:"{info}{pager}"}};class h{constructor(e,t={}){const n="string"==typeof e?document.querySelector(e):e;if(this.options={...u,...t,layout:{...u.layout,...t.layout},labels:{...u.labels,...t.labels}},this.initialized=!1,this.initialLayout=n.innerHTML,this.initialSortable=this.options.sortable,this.options.header||(this.options.sortable=!1),null===n.tHead&&(!this.options.data||this.options.data&&!this.options.data.headings)&&(this.options.sortable=!1),n.tBodies.length&&!n.tBodies[0].rows.length&&this.options.data&&!this.options.data.data)throw new Error("You seem to be using the data option, but you've not defined any rows.");this.dom=n,this.table=this.dom,this.listeners={onResize:e=>this.onResize(e)},this.init()}static extend(e,t){"function"==typeof t?h.prototype[e]=t:h[e]=t}init(e){if(this.initialized||this.dom.classList.contains("dataTable-table"))return!1;Object.assign(this.options,e||{}),this.currentPage=1,this.onFirstPage=!0,this.hiddenColumns=[],this.columnRenderers=[],this.selectedColumns=[],this.render(),setTimeout((()=>{this.emit("datatable.init"),this.initialized=!0,this.options.plugins&&Object.entries(this.options.plugins).forEach((([e,t])=>{this[e]&&"function"==typeof this[e]&&(this[e]=this[e](t,{createElement:a}),t.enabled&&this[e].init&&"function"==typeof this[e].init&&this[e].init())}))}),10)}render(e){if(e){switch(e){case"page":this.renderPage();break;case"pager":this.renderPager();break;case"header":this.renderHeader()}return!1}const t=this.options;let n="";if(t.data&&c.call(this),this.body=this.dom.tBodies[0],this.head=this.dom.tHead,this.foot=this.dom.tFoot,this.body||(this.body=a("tbody"),this.dom.appendChild(this.body)),this.hasRows=this.body.rows.length>0,!this.head){const e=a("thead"),n=a("tr");this.hasRows&&(Array.from(this.body.rows[0].cells).forEach((()=>{n.appendChild(a("th"))})),e.appendChild(n)),this.head=e,this.dom.insertBefore(this.head,this.body),this.hiddenHeader=t.hiddenHeader}if(this.headings=[],this.hasHeadings=this.head.rows.length>0,this.hasHeadings&&(this.header=this.head.rows[0],this.headings=[].slice.call(this.header.cells)),t.header||this.head&&this.dom.removeChild(this.dom.tHead),t.footer?this.head&&!this.foot&&(this.foot=a("tfoot",{html:this.head.innerHTML}),this.dom.appendChild(this.foot)):this.foot&&this.dom.removeChild(this.dom.tFoot),this.wrapper=a("div",{class:"dataTable-wrapper dataTable-loading"}),n+="<div class='dataTable-top'>",n+=t.layout.top,n+="</div>",t.scrollY.length?n+=`<div class='dataTable-container' style='height: ${t.scrollY}; overflow-Y: auto;'></div>`:n+="<div class='dataTable-container'></div>",n+="<div class='dataTable-bottom'>",n+=t.layout.bottom,n+="</div>",n=n.replace("{info}",t.paging?"<div class='dataTable-info'></div>":""),t.paging&&t.perPageSelect){let e="<div class='dataTable-dropdown'><label>";e+=t.labels.perPage,e+="</label></div>";const i=a("select",{class:"dataTable-selector"});t.perPageSelect.forEach((e=>{const n=e===t.perPage,a=new Option(e,e,n,n);i.add(a)})),e=e.replace("{select}",i.outerHTML),n=n.replace("{select}",e)}else n=n.replace("{select}","");if(t.searchable){const e=`<div class='dataTable-search'><input class='dataTable-input' placeholder='${t.labels.placeholder}' type='text'></div>`;n=n.replace("{search}",e)}else n=n.replace("{search}","");this.hasHeadings&&this.render("header"),this.dom.classList.add("dataTable-table");const i=a("nav",{class:"dataTable-pagination"}),s=a("ul",{class:"dataTable-pagination-list"});i.appendChild(s),n=n.replace(/\{pager\}/g,i.outerHTML),this.wrapper.innerHTML=n,this.container=this.wrapper.querySelector(".dataTable-container"),this.pagers=this.wrapper.querySelectorAll(".dataTable-pagination-list"),this.label=this.wrapper.querySelector(".dataTable-info"),this.dom.parentNode.replaceChild(this.wrapper,this.dom),this.container.appendChild(this.dom),this.rect=this.dom.getBoundingClientRect(),this.data=Array.from(this.body.rows),this.activeRows=this.data.slice(),this.activeHeadings=this.headings.slice(),this.update(),this.setColumns(),this.fixHeight(),this.fixColumns(),t.header||this.wrapper.classList.add("no-header"),t.footer||this.wrapper.classList.add("no-footer"),t.sortable&&this.wrapper.classList.add("sortable"),t.searchable&&this.wrapper.classList.add("searchable"),t.fixedHeight&&this.wrapper.classList.add("fixed-height"),t.fixedColumns&&this.wrapper.classList.add("fixed-columns"),this.bindEvents()}renderPage(){if(this.hasHeadings&&(s(this.header),this.activeHeadings.forEach((e=>this.header.appendChild(e)))),this.hasRows&&this.totalPages){this.currentPage>this.totalPages&&(this.currentPage=1);const e=this.currentPage-1,t=document.createDocumentFragment();this.pages[e].forEach((e=>t.appendChild(this.rows().render(e)))),this.clear(t),this.onFirstPage=1===this.currentPage,this.onLastPage=this.currentPage===this.lastPage}else this.setMessage(this.options.labels.noRows);let e,t=0,n=0,i=0;if(this.totalPages&&(t=this.currentPage-1,n=t*this.options.perPage,i=n+this.pages[t].length,n+=1,e=this.searching?this.searchData.length:this.data.length),this.label&&this.options.labels.info.length){const t=this.options.labels.info.replace("{start}",n).replace("{end}",i).replace("{page}",this.currentPage).replace("{pages}",this.totalPages).replace("{rows}",e);this.label.innerHTML=e?t:""}1==this.currentPage&&this.fixHeight()}renderPager(){if(s(this.pagers),this.totalPages>1){const e="pager",t=document.createDocumentFragment(),n=this.onFirstPage?1:this.currentPage-1,i=this.onLastPage?this.totalPages:this.currentPage+1;this.options.firstLast&&t.appendChild(r(e,1,this.options.firstText)),this.options.nextPrev&&!this.onFirstPage&&t.appendChild(r(e,n,this.options.prevText));let s=this.links;this.options.truncatePager&&(s=((e,t,n,i,s)=>{let r;const o=2*(i=i||2);let l=t-i,d=t+i;const c=[],u=[];t<4-i+o?d=3+o:t>n-(3-i+o)&&(l=n-(2+o));for(let t=1;t<=n;t++)if(1==t||t==n||t>=l&&t<=d){const n=e[t-1];n.classList.remove("active"),c.push(n)}return c.forEach((t=>{const n=t.children[0].getAttribute("data-page");if(r){const t=r.children[0].getAttribute("data-page");if(n-t==2)u.push(e[t]);else if(n-t!=1){const e=a("li",{class:"ellipsis",html:`<a href="#">${s}</a>`});u.push(e)}}u.push(t),r=t})),u})(this.links,this.currentPage,this.pages.length,this.options.pagerDelta,this.options.ellipsisText)),this.links[this.currentPage-1].classList.add("active"),s.forEach((e=>{e.classList.remove("active"),t.appendChild(e)})),this.links[this.currentPage-1].classList.add("active"),this.options.nextPrev&&!this.onLastPage&&t.appendChild(r(e,i,this.options.nextText)),this.options.firstLast&&t.appendChild(r(e,this.totalPages,this.options.lastText)),this.pagers.forEach((e=>{e.appendChild(t.cloneNode(!0))}))}}renderHeader(){this.labels=[],this.headings&&this.headings.length&&this.headings.forEach(((e,t)=>{if(this.labels[t]=e.textContent,e.firstElementChild&&e.firstElementChild.classList.contains("dataTable-sorter")&&(e.innerHTML=e.firstElementChild.innerHTML),e.sortable="false"!==e.getAttribute("data-sortable"),e.originalCellIndex=t,this.options.sortable&&e.sortable){const t=a("a",{href:"#",class:"dataTable-sorter",html:e.innerHTML});e.innerHTML="",e.setAttribute("data-sortable",""),e.appendChild(t)}})),this.fixColumns()}bindEvents(){const e=this.options;if(e.perPageSelect){const t=this.wrapper.querySelector(".dataTable-selector");t&&t.addEventListener("change",(()=>{e.perPage=parseInt(t.value,10),this.update(),this.fixHeight(),this.emit("datatable.perpage",e.perPage)}),!1)}e.searchable&&(this.input=this.wrapper.querySelector(".dataTable-input"),this.input&&this.input.addEventListener("keyup",(()=>this.search(this.input.value)),!1)),this.wrapper.addEventListener("click",(t=>{const n=t.target.closest("a");n&&"a"===n.nodeName.toLowerCase()&&(n.hasAttribute("data-page")?(this.page(n.getAttribute("data-page")),t.preventDefault()):e.sortable&&n.classList.contains("dataTable-sorter")&&"false"!=n.parentNode.getAttribute("data-sortable")&&(this.columns().sort(this.headings.indexOf(n.parentNode)),t.preventDefault()))}),!1),window.addEventListener("resize",this.listeners.onResize)}onResize(){this.rect=this.container.getBoundingClientRect(),this.rect.width&&this.fixColumns()}setColumns(e){e||this.data.forEach((e=>{Array.from(e.cells).forEach((e=>{e.data=e.innerHTML}))})),this.options.columns&&this.headings.length&&this.options.columns.forEach((e=>{Array.isArray(e.select)||(e.select=[e.select]),e.hasOwnProperty("render")&&"function"==typeof e.render&&(this.selectedColumns=this.selectedColumns.concat(e.select),this.columnRenderers.push({columns:e.select,renderer:e.render})),e.select.forEach((t=>{const n=this.headings[t];n&&(e.type&&n.setAttribute("data-type",e.type),e.format&&n.setAttribute("data-format",e.format),e.hasOwnProperty("sortable")&&n.setAttribute("data-sortable",e.sortable),e.hasOwnProperty("hidden")&&!1!==e.hidden&&this.columns().hide([t]),e.hasOwnProperty("sort")&&1===e.select.length&&this.columns().sort(e.select[0],e.sort,!0))}))})),this.hasRows&&(this.data.forEach(((e,t)=>{e.dataIndex=t,Array.from(e.cells).forEach((e=>{e.data=e.innerHTML}))})),this.selectedColumns.length&&this.data.forEach((e=>{Array.from(e.cells).forEach(((t,n)=>{this.selectedColumns.includes(n)&&this.columnRenderers.forEach((i=>{i.columns.includes(n)&&(t.innerHTML=i.renderer.call(this,t.data,t,e))}))}))})),this.columns().rebuild()),this.render("header")}destroy(){this.dom.innerHTML=this.initialLayout,this.dom.classList.remove("dataTable-table"),this.wrapper.parentNode.replaceChild(this.dom,this.wrapper),this.initialized=!1,window.removeEventListener("resize",this.listeners.onResize)}update(){this.wrapper.classList.remove("dataTable-empty"),this.paginate(this),this.render("page"),this.links=[];let e=this.pages.length;for(;e--;){const t=e+1;this.links[e]=r(0===e?"active":"",t,t)}this.sorting=!1,this.render("pager"),this.rows().update(),this.emit("datatable.update")}paginate(){const e=this.options.perPage;let t=this.activeRows;return this.searching&&(t=[],this.searchData.forEach((e=>t.push(this.activeRows[e])))),this.options.paging?this.pages=t.map(((n,i)=>i%e==0?t.slice(i,i+e):null)).filter((e=>e)):this.pages=[t],this.totalPages=this.lastPage=this.pages.length,this.totalPages}fixColumns(){if((this.options.scrollY.length||this.options.fixedColumns)&&this.activeHeadings&&this.activeHeadings.length){let e,t=!1;if(this.columnWidths=[],this.dom.tHead){this.options.scrollY.length&&(t=a("thead"),t.appendChild(a("tr")),t.style.height="0px",this.headerTable&&(this.dom.tHead=this.headerTable.tHead)),this.activeHeadings.forEach((e=>{e.style.width=""}));const e=this.activeHeadings.reduce(((e,t)=>e+t.offsetWidth),0);if(this.activeHeadings.forEach(((n,i)=>{const s=n.offsetWidth,r=s/e*100;if(n.style.width=`${r}%`,this.columnWidths[i]=s,this.options.scrollY.length){const e=a("th");t.firstElementChild.appendChild(e),e.style.width=`${r}%`,e.style.paddingTop="0",e.style.paddingBottom="0",e.style.border="0"}})),this.options.scrollY.length){const e=this.dom.parentElement;if(!this.headerTable){this.headerTable=a("table",{class:"dataTable-table"});const t=a("div",{class:"dataTable-headercontainer"});t.appendChild(this.headerTable),e.parentElement.insertBefore(t,e)}const n=this.dom.tHead;this.dom.replaceChild(t,n),this.headerTable.tHead=n,this.headerTable.parentElement.style.paddingRight=`${this.headerTable.clientWidth-this.dom.clientWidth+parseInt(this.headerTable.parentElement.style.paddingRight||"0",10)}px`,e.scrollHeight>e.clientHeight&&(e.style.overflowY="scroll")}}else{e=[],t=a("thead");const n=a("tr");Array.from(this.dom.tBodies[0].rows[0].cells).forEach((()=>{const t=a("th");n.appendChild(t),e.push(t)})),t.appendChild(n),this.dom.insertBefore(t,this.body);const i=[];e.forEach(((e,t)=>{const n=e.offsetWidth,a=n/this.rect.width*100;i.push(a),this.columnWidths[t]=n})),this.data.forEach((e=>{Array.from(e.cells).forEach(((e,t)=>{this.columns(e.cellIndex).visible()&&(e.style.width=`${i[t]}%`)}))})),this.dom.removeChild(t)}}}fixHeight(){this.options.fixedHeight&&(this.container.style.height=null,this.rect=this.container.getBoundingClientRect(),this.container.style.height=`${this.rect.height}px`)}search(e){return!!this.hasRows&&(e=e.toLowerCase(),this.currentPage=1,this.searching=!0,this.searchData=[],e.length?(this.clear(),this.data.forEach(((t,n)=>{const i=this.searchData.includes(t);e.split(" ").reduce(((e,n)=>{let i=!1,a=null,s=null;for(let e=0;e<t.cells.length;e++)if(a=t.cells[e],s=a.hasAttribute("data-content")?a.getAttribute("data-content"):a.textContent,s.toLowerCase().includes(n)&&this.columns(a.cellIndex).visible()){i=!0;break}return e&&i}),!0)&&!i?(t.searchIndex=n,this.searchData.push(n)):t.searchIndex=null})),this.wrapper.classList.add("search-results"),this.searchData.length?this.update():(this.wrapper.classList.remove("search-results"),this.setMessage(this.options.labels.noResults)),void this.emit("datatable.search",e,this.searchData)):(this.searching=!1,this.update(),this.emit("datatable.search",e,this.searchData),this.wrapper.classList.remove("search-results"),!1))}page(e){return e!=this.currentPage&&(isNaN(e)||(this.currentPage=parseInt(e,10)),!(e>this.pages.length||e<0)&&(this.render("page"),this.render("pager"),void this.emit("datatable.page",e)))}sortColumn(e,t){this.columns().sort(e,t)}insert(e){let t=[];if(i(e)){if(e.headings&&!this.hasHeadings&&!this.hasRows){const t=a("tr");e.headings.forEach((e=>{const n=a("th",{html:e});t.appendChild(n)})),this.head.appendChild(t),this.header=t,this.headings=[].slice.call(t.cells),this.hasHeadings=!0,this.options.sortable=this.initialSortable,this.render("header"),this.activeHeadings=this.headings.slice()}e.data&&Array.isArray(e.data)&&(t=e.data)}else Array.isArray(e)&&e.forEach((e=>{const n=[];Object.entries(e).forEach((([e,t])=>{const i=this.labels.indexOf(e);i>-1&&(n[i]=t)})),t.push(n)}));t.length&&(this.rows().add(t),this.hasRows=!0),this.update(),this.setColumns(),this.fixColumns()}refresh(){this.options.searchable&&(this.input.value="",this.searching=!1),this.currentPage=1,this.onFirstPage=!0,this.update(),this.emit("datatable.refresh")}clear(e){this.body&&s(this.body);let t=this.body;this.body||(t=this.dom),e&&("string"==typeof e&&(document.createDocumentFragment().innerHTML=e),t.appendChild(e))}export(e){if(!this.hasHeadings&&!this.hasRows)return!1;const t=this.activeHeadings;let n=[];const a=[];let s,r,o,l;if(!i(e))return!1;const d={download:!0,skipColumn:[],lineDelimiter:"\n",columnDelimiter:",",tableName:"myTable",replacer:null,space:4,...e};if(d.type){if("txt"!==d.type&&"csv"!==d.type||(n[0]=this.header),d.selection)if(isNaN(d.selection)){if(Array.isArray(d.selection))for(s=0;s<d.selection.length;s++)n=n.concat(this.pages[d.selection[s]-1])}else n=n.concat(this.pages[d.selection-1]);else n=n.concat(this.activeRows);if(n.length){if("txt"===d.type||"csv"===d.type){for(o="",s=0;s<n.length;s++){for(r=0;r<n[s].cells.length;r++)if(!d.skipColumn.includes(t[r].originalCellIndex)&&this.columns(t[r].originalCellIndex).visible()){let e=n[s].cells[r].textContent;e=e.trim(),e=e.replace(/\s{2,}/g," "),e=e.replace(/\n/g,"  "),e=e.replace(/"/g,'""'),e=e.replace(/#/g,"%23"),e.includes(",")&&(e=`"${e}"`),o+=e+d.columnDelimiter}o=o.trim().substring(0,o.length-1),o+=d.lineDelimiter}o=o.trim().substring(0,o.length-1),d.download&&(o=`data:text/csv;charset=utf-8,${o}`)}else if("sql"===d.type){for(o=`INSERT INTO \`${d.tableName}\` (`,s=0;s<t.length;s++)!d.skipColumn.includes(t[s].originalCellIndex)&&this.columns(t[s].originalCellIndex).visible()&&(o+=`\`${t[s].textContent}\`,`);for(o=o.trim().substring(0,o.length-1),o+=") VALUES ",s=0;s<n.length;s++){for(o+="(",r=0;r<n[s].cells.length;r++)!d.skipColumn.includes(t[r].originalCellIndex)&&this.columns(t[r].originalCellIndex).visible()&&(o+=`"${n[s].cells[r].textContent}",`);o=o.trim().substring(0,o.length-1),o+="),"}o=o.trim().substring(0,o.length-1),o+=";",d.download&&(o=`data:application/sql;charset=utf-8,${o}`)}else if("json"===d.type){for(r=0;r<n.length;r++)for(a[r]=a[r]||{},s=0;s<t.length;s++)!d.skipColumn.includes(t[s].originalCellIndex)&&this.columns(t[s].originalCellIndex).visible()&&(a[r][t[s].textContent]=n[r].cells[s].textContent);o=JSON.stringify(a,d.replacer,d.space),d.download&&(o=`data:application/json;charset=utf-8,${o}`)}return d.download&&(d.filename=d.filename||"datatable_export",d.filename+=`.${d.type}`,o=encodeURI(o),l=document.createElement("a"),l.href=o,l.download=d.filename,document.body.appendChild(l),l.click(),document.body.removeChild(l)),o}}return!1}import(e){let t=!1;if(!i(e))return!1;const n={lineDelimiter:"\n",columnDelimiter:",",removeDoubleQuotes:!1,...e};if(n.data.length||i(n.data)){if("csv"===n.type){t={data:[]};const e=n.data.split(n.lineDelimiter);e.length&&(n.headings&&(t.headings=e[0].split(n.columnDelimiter),n.removeDoubleQuotes&&(t.headings=t.headings.map((e=>e.trim().replace(/(^"|"$)/g,"")))),e.shift()),e.forEach(((e,i)=>{t.data[i]=[];const a=e.split(n.columnDelimiter);a.length&&a.forEach((e=>{n.removeDoubleQuotes&&(e=e.trim().replace(/(^"|"$)/g,"")),t.data[i].push(e)}))})))}else if("json"===n.type){const e=(e=>{let t=!1;try{t=JSON.parse(e)}catch(e){return!1}return!(null===t||!Array.isArray(t)&&!i(t))&&t})(n.data);e&&(t={headings:[],data:[]},e.forEach(((e,n)=>{t.data[n]=[],Object.entries(e).forEach((([e,i])=>{t.headings.includes(e)||t.headings.push(e),t.data[n].push(i)}))})))}i(n.data)&&(t=n.data),t&&this.insert(t)}return!1}print(){const e=this.activeHeadings,t=this.activeRows,n=a("table"),i=a("thead"),s=a("tbody"),r=a("tr");e.forEach((e=>{r.appendChild(a("th",{html:e.textContent}))})),i.appendChild(r),t.forEach((e=>{const t=a("tr");Array.from(e.cells).forEach((e=>{t.appendChild(a("td",{html:e.textContent}))})),s.appendChild(t)})),n.appendChild(i),n.appendChild(s);const o=window.open();o.document.body.appendChild(n),o.print()}setMessage(e){let t=1;this.hasRows?t=this.data[0].cells.length:this.activeHeadings.length&&(t=this.activeHeadings.length),this.wrapper.classList.add("dataTable-empty"),this.label&&(this.label.innerHTML=""),this.totalPages=0,this.render("pager"),this.clear(a("tr",{html:`<td class="dataTables-empty" colspan="${t}">${e}</td>`}))}columns(e){return new d(this,e)}rows(e){return new l(this,e)}on(e,t){this.events=this.events||{},this.events[e]=this.events[e]||[],this.events[e].push(t)}off(e,t){this.events=this.events||{},e in this.events!=0&&this.events[e].splice(this.events[e].indexOf(t),1)}emit(e){if(this.events=this.events||{},e in this.events!=0)for(let t=0;t<this.events[e].length;t++)this.events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}}n.DataTable=h},{"./date-7061ceee.js":1}]},{},[2])(2)})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Tagify=t()}(this,(function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function t(t){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?e(Object(a),!0).forEach((function(e){n(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):e(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const i=(e,t,n,i)=>(e=""+e,t=""+t,i&&(e=e.trim(),t=t.trim()),n?e==t:e.toLowerCase()==t.toLowerCase()),a=(e,t)=>e&&Array.isArray(e)&&e.map((e=>s(e,t)));function s(e,t){var n,i={};for(n in e)t.indexOf(n)<0&&(i[n]=e[n]);return i}function r(e){var t=document.createElement("div");return e.replace(/\&#?[0-9a-z]+;/gi,(function(e){return t.innerHTML=e,t.innerText}))}function o(e){return(new DOMParser).parseFromString(e.trim(),"text/html").body.firstElementChild}function l(e,t){for(t=t||"previous";e=e[t+"Sibling"];)if(3==e.nodeType)return e}function d(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/`|'/g,"&#039;"):e}function c(e){var t=Object.prototype.toString.call(e).split(" ")[1].slice(0,-1);return e===Object(e)&&"Array"!=t&&"Function"!=t&&"RegExp"!=t&&"HTMLUnknownElement"!=t}function u(e,t,n){function i(e,t){for(var n in t)if(t.hasOwnProperty(n)){if(c(t[n])){c(e[n])?i(e[n],t[n]):e[n]=Object.assign({},t[n]);continue}if(Array.isArray(t[n])){e[n]=Object.assign([],t[n]);continue}e[n]=t[n]}}return e instanceof Object||(e={}),i(e,t),n&&i(e,n),e}function h(){const e=[],t={};for(let n of arguments)for(let i of n)c(i)?t[i.value]||(e.push(i),t[i.value]=1):e.includes(i)||e.push(i);return e}function p(e){return String.prototype.normalize?"string"==typeof e?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):void 0:e}var f=()=>/(?=.*chrome)(?=.*android)/i.test(navigator.userAgent);function g(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}function m(e){return e&&e.classList&&e.classList.contains(this.settings.classNames.tag)}var v={delimiters:",",pattern:null,tagTextProp:"value",maxTags:1/0,callbacks:{},addTagOnBlur:!0,onChangeAfterBlur:!0,duplicates:!1,whitelist:[],blacklist:[],enforceWhitelist:!1,userInput:!0,keepInvalidTags:!1,createInvalidTags:!0,mixTagsAllowedAfter:/,|\.|\:|\s/,mixTagsInterpolator:["[[","]]"],backspace:!0,skipInvalid:!1,pasteAsTags:!0,editTags:{clicks:2,keepInvalid:!0},transformTag:()=>{},trim:!0,a11y:{focusableTags:!1},mixMode:{insertAfterTag:""},autoComplete:{enabled:!0,rightKey:!1},classNames:{namespace:"tagify",mixMode:"tagify--mix",selectMode:"tagify--select",input:"tagify__input",focus:"tagify--focus",tagNoAnimation:"tagify--noAnim",tagInvalid:"tagify--invalid",tagNotAllowed:"tagify--notAllowed",scopeLoading:"tagify--loading",hasMaxTags:"tagify--hasMaxTags",hasNoTags:"tagify--noTags",empty:"tagify--empty",inputInvalid:"tagify__input--invalid",dropdown:"tagify__dropdown",dropdownWrapper:"tagify__dropdown__wrapper",dropdownHeader:"tagify__dropdown__header",dropdownFooter:"tagify__dropdown__footer",dropdownItem:"tagify__dropdown__item",dropdownItemActive:"tagify__dropdown__item--active",dropdownItemHidden:"tagify__dropdown__item--hidden",dropdownInital:"tagify__dropdown--initial",tag:"tagify__tag",tagText:"tagify__tag-text",tagX:"tagify__tag__removeBtn",tagLoading:"tagify__tag--loading",tagEditing:"tagify__tag--editable",tagFlash:"tagify__tag--flash",tagHide:"tagify__tag--hide"},dropdown:{classname:"",enabled:2,maxItems:10,searchKeys:["value","searchBy"],fuzzySearch:!0,caseSensitive:!1,accentedSearch:!0,includeSelectedTags:!1,highlightFirst:!1,closeOnSelect:!0,clearOnSelect:!0,position:"all",appendTarget:null},hooks:{beforeRemoveTag:()=>Promise.resolve(),beforePaste:()=>Promise.resolve(),suggestionClick:()=>Promise.resolve()}};function b(){this.dropdown={};for(let e in this._dropdown)this.dropdown[e]="function"==typeof this._dropdown[e]?this._dropdown[e].bind(this):this._dropdown[e];this.dropdown.refs()}var y={refs(){this.DOM.dropdown=this.parseTemplate("dropdown",[this.settings]),this.DOM.dropdown.content=this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-wrapper']")},getHeaderRef(){return this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-header']")},getFooterRef(){return this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-footer']")},getAllSuggestionsRefs(){return[...this.DOM.dropdown.content.querySelectorAll(this.settings.classNames.dropdownItemSelector)]},show(e){var t,n,a,s=this.settings,r="mix"==s.mode&&!s.enforceWhitelist,o=!s.whitelist||!s.whitelist.length,l="manual"==s.dropdown.position;if(e=void 0===e?this.state.inputText:e,!(o&&!r&&!s.templates.dropdownItemNoMatch||!1===s.dropdown.enable||this.state.isLoading||this.settings.readonly)){if(clearTimeout(this.dropdownHide__bindEventsTimeout),this.suggestedListItems=this.dropdown.filterListItems(e),e&&!this.suggestedListItems.length&&(this.trigger("dropdown:noMatch",e),s.templates.dropdownItemNoMatch&&(a=s.templates.dropdownItemNoMatch.call(this,{value:e}))),!a){if(this.suggestedListItems.length)e&&r&&!this.state.editing.scope&&!i(this.suggestedListItems[0].value,e)&&this.suggestedListItems.unshift({value:e});else{if(!e||!r||this.state.editing.scope)return this.input.autocomplete.suggest.call(this),void this.dropdown.hide();this.suggestedListItems=[{value:e}]}n=""+(c(t=this.suggestedListItems[0])?t.value:t),s.autoComplete&&n&&0==n.indexOf(e)&&this.input.autocomplete.suggest.call(this,t)}this.dropdown.fill(a),s.dropdown.highlightFirst&&this.dropdown.highlightOption(this.DOM.dropdown.content.querySelector(s.classNames.dropdownItemSelector)),this.state.dropdown.visible||setTimeout(this.dropdown.events.binding.bind(this)),this.state.dropdown.visible=e||!0,this.state.dropdown.query=e,this.setStateSelection(),l||setTimeout((()=>{this.dropdown.position(),this.dropdown.render()})),setTimeout((()=>{this.trigger("dropdown:show",this.DOM.dropdown)}))}},hide(e){var t=this.DOM,n=t.scope,i=t.dropdown,a="manual"==this.settings.dropdown.position&&!e;if(i&&document.body.contains(i)&&!a)return window.removeEventListener("resize",this.dropdown.position),this.dropdown.events.binding.call(this,!1),n.setAttribute("aria-expanded",!1),i.parentNode.removeChild(i),setTimeout((()=>{this.state.dropdown.visible=!1}),100),this.state.dropdown.query=this.state.ddItemData=this.state.ddItemElm=this.state.selection=null,this.state.tag&&this.state.tag.value.length&&(this.state.flaggedTags[this.state.tag.baseOffset]=this.state.tag),this.trigger("dropdown:hide",i),this},toggle(e){this.dropdown[this.state.dropdown.visible&&!e?"hide":"show"]()},render(){var e,t,n=((t=this.DOM.dropdown.cloneNode(!0)).style.cssText="position:fixed; top:-9999px; opacity:0",document.body.appendChild(t),e=t.clientHeight,t.parentNode.removeChild(t),e),i=this.settings;return"number"==typeof i.dropdown.enabled&&i.dropdown.enabled>=0?(this.DOM.scope.setAttribute("aria-expanded",!0),document.body.contains(this.DOM.dropdown)||(this.DOM.dropdown.classList.add(i.classNames.dropdownInital),this.dropdown.position(n),i.dropdown.appendTarget.appendChild(this.DOM.dropdown),setTimeout((()=>this.DOM.dropdown.classList.remove(i.classNames.dropdownInital)))),this):this},fill(e){e="string"==typeof e?e:this.dropdown.createListHTML(e||this.suggestedListItems);var t,n=this.settings.templates.dropdownContent.call(this,e);this.DOM.dropdown.content.innerHTML=(t=n)?t.replace(/\>[\r\n ]+\</g,"><").replace(/(<.*?>)|\s+/g,((e,t)=>t||" ")):""},fillHeaderFooter(){this.settings.templates;var e=this.dropdown.filterListItems(this.state.dropdown.query),t=this.parseTemplate("dropdownHeader",[e]),n=this.parseTemplate("dropdownFooter",[e]),i=this.dropdown.getHeaderRef(),a=this.dropdown.getFooterRef();t&&i?.parentNode.replaceChild(t,i),n&&a?.parentNode.replaceChild(n,a)},refilter(e){e=e||this.state.dropdown.query||"",this.suggestedListItems=this.dropdown.filterListItems(e),this.dropdown.fill(),this.suggestedListItems.length||this.dropdown.hide(),this.trigger("dropdown:updated",this.DOM.dropdown)},position(e){var t=this.settings.dropdown;if("manual"!=t.position){var n,i,a,s,r,o,l=this.DOM.dropdown,d=t.placeAbove,c=t.appendTarget===document.body,u=c?window.pageYOffset:t.appendTarget.scrollTop,h=document.fullscreenElement||document.webkitFullscreenElement||document.documentElement,p=h.clientHeight,f=Math.max(h.clientWidth||0,window.innerWidth||0)>480?t.position:"all",g=this.DOM["input"==f?"input":"scope"];if(e=e||l.clientHeight,this.state.dropdown.visible){if("text"==f?(a=(n=this.getCaretGlobalPosition()).bottom,i=n.top,s=n.left,r="auto"):(o=function(e){for(var t=0,n=0;e&&e!=h;)t+=e.offsetLeft||0,n+=e.offsetTop||0,e=e.parentNode;return{left:t,top:n}}(t.appendTarget),i=(n=g.getBoundingClientRect()).top-o.top,a=n.bottom-1-o.top,s=n.left-o.left,r=n.width+"px"),!c){let e=function(){for(var e=0,n=t.appendTarget.parentNode;n;)e+=n.scrollTop||0,n=n.parentNode;return e}();i+=e,a+=e}i=Math.floor(i),a=Math.ceil(a),d=void 0===d?p-n.bottom<e:d,l.style.cssText="left:"+(s+window.pageXOffset)+"px; width:"+r+";"+(d?"top: "+(i+u)+"px":"top: "+(a+u)+"px"),l.setAttribute("placement",d?"top":"bottom"),l.setAttribute("position",f)}}},events:{binding(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t=this.dropdown.events.callbacks,n=this.listeners.dropdown=this.listeners.dropdown||{position:this.dropdown.position.bind(this,null),onKeyDown:t.onKeyDown.bind(this),onMouseOver:t.onMouseOver.bind(this),onMouseLeave:t.onMouseLeave.bind(this),onClick:t.onClick.bind(this),onScroll:t.onScroll.bind(this)},i=e?"addEventListener":"removeEventListener";"manual"!=this.settings.dropdown.position&&(document[i]("scroll",n.position,!0),window[i]("resize",n.position),window[i]("keydown",n.onKeyDown)),this.DOM.dropdown[i]("mouseover",n.onMouseOver),this.DOM.dropdown[i]("mouseleave",n.onMouseLeave),this.DOM.dropdown[i]("mousedown",n.onClick),this.DOM.dropdown.content[i]("scroll",n.onScroll)},callbacks:{onKeyDown(e){if(this.state.hasFocus&&!this.state.composing){var t=this.DOM.dropdown.querySelector(this.settings.classNames.dropdownItemActiveSelector),n=this.dropdown.getSuggestionDataByNode(t);switch(e.key){case"ArrowDown":case"ArrowUp":case"Down":case"Up":e.preventDefault();var i=this.dropdown.getAllSuggestionsRefs(),a="ArrowUp"==e.key||"Up"==e.key;t&&(t=this.dropdown.getNextOrPrevOption(t,!a)),t&&t.matches(this.settings.classNames.dropdownItemSelector)||(t=i[a?i.length-1:0]),n=this.dropdown.getSuggestionDataByNode(t),this.dropdown.highlightOption(t,!0);break;case"Escape":case"Esc":this.dropdown.hide();break;case"ArrowRight":if(this.state.actions.ArrowLeft)return;case"Tab":if("mix"!=this.settings.mode&&t&&!this.settings.autoComplete.rightKey&&!this.state.editing){e.preventDefault();var s=this.dropdown.getMappedValue(n);return this.input.autocomplete.set.call(this,s),!1}return!0;case"Enter":e.preventDefault(),this.settings.hooks.suggestionClick(e,{tagify:this,tagData:n,suggestionElm:t}).then((()=>{if(t)return this.dropdown.selectOption(t),t=this.dropdown.getNextOrPrevOption(t,!a),void this.dropdown.highlightOption(t);this.dropdown.hide(),"mix"!=this.settings.mode&&this.addTags(this.state.inputText.trim(),!0)})).catch((e=>e));break;case"Backspace":{if("mix"==this.settings.mode||this.state.editing.scope)return;const e=this.input.raw.call(this);""!=e&&8203!=e.charCodeAt(0)||(!0===this.settings.backspace?this.removeTags():"edit"==this.settings.backspace&&setTimeout(this.editTag.bind(this),0))}}}},onMouseOver(e){var t=e.target.closest(this.settings.classNames.dropdownItemSelector);t&&this.dropdown.highlightOption(t)},onMouseLeave(e){this.dropdown.highlightOption()},onClick(e){if(0==e.button&&e.target!=this.DOM.dropdown&&e.target!=this.DOM.dropdown.content){var t=e.target.closest(this.settings.classNames.dropdownItemSelector),n=this.dropdown.getSuggestionDataByNode(t);this.state.actions.selectOption=!0,setTimeout((()=>this.state.actions.selectOption=!1),50),this.settings.hooks.suggestionClick(e,{tagify:this,tagData:n,suggestionElm:t}).then((()=>{t?this.dropdown.selectOption(t,e):this.dropdown.hide()})).catch((e=>console.warn(e)))}},onScroll(e){var t=e.target,n=t.scrollTop/(t.scrollHeight-t.parentNode.clientHeight)*100;this.trigger("dropdown:scroll",{percentage:Math.round(n)})}}},getSuggestionDataByNode(e){var t=e&&e.getAttribute("value");return this.suggestedListItems.find((e=>e.value==t))||null},getNextOrPrevOption(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var n=this.dropdown.getAllSuggestionsRefs(),i=n.findIndex((t=>t===e));return t?n[i+1]:n[i-1]},highlightOption(e,t){var n,i=this.settings.classNames.dropdownItemActive;if(this.state.ddItemElm&&(this.state.ddItemElm.classList.remove(i),this.state.ddItemElm.removeAttribute("aria-selected")),!e)return this.state.ddItemData=null,this.state.ddItemElm=null,void this.input.autocomplete.suggest.call(this);n=this.dropdown.getSuggestionDataByNode(e),this.state.ddItemData=n,this.state.ddItemElm=e,e.classList.add(i),e.setAttribute("aria-selected",!0),t&&(e.parentNode.scrollTop=e.clientHeight+e.offsetTop-e.parentNode.clientHeight),this.settings.autoComplete&&(this.input.autocomplete.suggest.call(this,n),this.dropdown.position())},selectOption(e,t){var n=this.settings.dropdown,i=n.clearOnSelect,a=n.closeOnSelect;if(!e)return this.addTags(this.state.inputText,!0),void(a&&this.dropdown.hide());t=t||{};var s=e.getAttribute("value"),r="noMatch"==s,o=this.suggestedListItems.find((e=>(e.value||e)==s));this.trigger("dropdown:select",{data:o,elm:e,event:t}),s&&(o||r)?(this.state.editing?this.onEditTagDone(null,u({__isValid:!0},this.normalizeTags([o])[0])):this["mix"==this.settings.mode?"addMixTags":"addTags"]([o||this.input.raw.call(this)],i),this.DOM.input.parentNode&&(setTimeout((()=>{this.DOM.input.focus(),this.toggleFocusClass(!0),this.setRangeAtStartEnd(!1)})),a&&setTimeout(this.dropdown.hide.bind(this)),e.addEventListener("transitionend",(()=>{this.dropdown.fillHeaderFooter(),setTimeout((()=>e.remove()),100)}),{once:!0}),e.classList.add(this.settings.classNames.dropdownItemHidden))):a&&setTimeout(this.dropdown.hide.bind(this))},selectAll(e){this.suggestedListItems.length=0,this.dropdown.hide(),this.dropdown.filterListItems("");var t=this.dropdown.filterListItems("");return e||(t=this.state.dropdown.suggestions),this.addTags(t,!0),this},filterListItems(e,t){var n,i,a,s,r,o=this.settings,l=o.dropdown,d=(t=t||{},[]),u=[],h=o.whitelist,f=l.maxItems>=0?l.maxItems:1/0,g=l.searchKeys,m=0;if(!(e="select"==o.mode&&this.value.length&&this.value[0][o.tagTextProp]==e?"":e)||!g.length)return d=l.includeSelectedTags?h:h.filter((e=>!this.isTagDuplicate(c(e)?e.value:e))),this.state.dropdown.suggestions=d,d.slice(0,f);function v(e,t){return t.toLowerCase().split(" ").every((t=>e.includes(t.toLowerCase())))}for(r=l.caseSensitive?""+e:(""+e).toLowerCase();m<h.length;m++){let e,o;n=h[m]instanceof Object?h[m]:{value:h[m]};let f=Object.keys(n).some((e=>g.includes(e)))?g:["value"];l.fuzzySearch&&!t.exact?(a=f.reduce(((e,t)=>e+" "+(n[t]||"")),"").toLowerCase().trim(),l.accentedSearch&&(a=p(a),r=p(r)),e=0==a.indexOf(r),o=a===r,i=v(a,r)):(e=!0,i=f.some((e=>{var i=""+(n[e]||"");return l.accentedSearch&&(i=p(i),r=p(r)),l.caseSensitive||(i=i.toLowerCase()),o=i===r,t.exact?i===r:0==i.indexOf(r)}))),s=!l.includeSelectedTags&&this.isTagDuplicate(c(n)?n.value:n),i&&!s&&(o&&e?u.push(n):"startsWith"==l.sortby&&e?d.unshift(n):d.push(n))}return this.state.dropdown.suggestions=u.concat(d),"function"==typeof l.sortby?l.sortby(u.concat(d),r):u.concat(d).slice(0,f)},getMappedValue(e){var t=this.settings.dropdown.mapValueTo;return t?"function"==typeof t?t(e):e[t]||e.value:e.value},createListHTML(e){return u([],e).map(((e,n)=>{"string"!=typeof e&&"number"!=typeof e||(e={value:e});var i=this.dropdown.getMappedValue(e);return i="string"==typeof i?d(i):i,this.settings.templates.dropdownItem.apply(this,[t(t({},e),{},{mappedValue:i}),this])})).join("")}};const w="@yaireo/tagify/";var x,_={empty:"empty",exceed:"number of tags exceeded",pattern:"pattern mismatch",duplicate:"already exists",notAllowed:"not allowed"},T={wrapper:(e,t)=>`<tags class="${t.classNames.namespace} ${t.mode?`${t.classNames[t.mode+"Mode"]}`:""} ${e.className}"\n                    ${t.readonly?"readonly":""}\n                    ${t.disabled?"disabled":""}\n                    ${t.required?"required":""}\n                    ${"select"===t.mode?"spellcheck='false'":""}\n                    tabIndex="-1">\n            <span ${!t.readonly&&t.userInput?"contenteditable":""} tabIndex="0" data-placeholder="${t.placeholder||"&#8203;"}" aria-placeholder="${t.placeholder||""}"\n                class="${t.classNames.input}"\n                role="textbox"\n                aria-autocomplete="both"\n                aria-multiline="${"mix"==t.mode}"></span>\n                &#8203;\n        </tags>`,tag(e,t){let n=t.settings;return`<tag title="${e.title||e.value}"\n                    contenteditable='false'\n                    spellcheck='false'\n                    tabIndex="${n.a11y.focusableTags?0:-1}"\n                    class="${n.classNames.tag} ${e.class||""}"\n                    ${this.getAttributes(e)}>\n            <x title='' class="${n.classNames.tagX}" role='button' aria-label='remove tag'></x>\n            <div>\n                <span class="${n.classNames.tagText}">${e[n.tagTextProp]||e.value}</span>\n            </div>\n        </tag>`},dropdown(e){var t=e.dropdown,n="manual"==t.position,i=`${e.classNames.dropdown}`;return`<div class="${n?"":i} ${t.classname}" role="listbox" aria-labelledby="dropdown">\n                    <div data-selector='tagify-suggestions-wrapper' class="${e.classNames.dropdownWrapper}"></div>\n                </div>`},dropdownContent(e){var t=this.settings,n=this.state.dropdown.suggestions;return`\n            ${t.templates.dropdownHeader.call(this,n)}\n            ${e}\n            ${t.templates.dropdownFooter.call(this,n)}\n        `},dropdownItem(e){return`<div ${this.getAttributes(e)}\n                    class='${this.settings.classNames.dropdownItem} ${e.class?e.class:""}'\n                    tabindex="0"\n                    role="option">${e.mappedValue||e.value}</div>`},dropdownHeader(e){return`<header data-selector='tagify-suggestions-header' class="${this.settings.classNames.dropdownHeader}"></header>`},dropdownFooter(e){var t=e.length-this.settings.dropdown.maxItems;return t>0?`<footer data-selector='tagify-suggestions-footer' class="${this.settings.classNames.dropdownFooter}">\n                ${t} more items. Refine your search.\n            </footer>`:""},dropdownItemNoMatch:null},D={customBinding(){this.customEventsList.forEach((e=>{this.on(e,this.settings.callbacks[e])}))},binding(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t,n=this.events.callbacks,i=e?"addEventListener":"removeEventListener";if(!this.state.mainEvents||!e){for(var a in this.state.mainEvents=e,e&&!this.listeners.main&&(this.events.bindGlobal.call(this),this.settings.isJQueryPlugin&&jQuery(this.DOM.originalInput).on("tagify.removeAllTags",this.removeAllTags.bind(this))),t=this.listeners.main=this.listeners.main||{focus:["input",n.onFocusBlur.bind(this)],keydown:["input",n.onKeydown.bind(this)],click:["scope",n.onClickScope.bind(this)],dblclick:["scope",n.onDoubleClickScope.bind(this)],paste:["input",n.onPaste.bind(this)],drop:["input",n.onDrop.bind(this)],compositionstart:["input",n.onCompositionStart.bind(this)],compositionend:["input",n.onCompositionEnd.bind(this)]})this.DOM[t[a][0]][i](a,t[a][1]);clearInterval(this.listeners.main.originalInputValueObserverInterval),this.listeners.main.originalInputValueObserverInterval=setInterval(n.observeOriginalInputValue.bind(this),500);var s=this.listeners.main.inputMutationObserver||new MutationObserver(n.onInputDOMChange.bind(this));s&&s.disconnect(),"mix"==this.settings.mode&&s.observe(this.DOM.input,{childList:!0})}},bindGlobal(e){var t,n=this.events.callbacks,i=e?"removeEventListener":"addEventListener";if(e||!this.listeners.global)for(t of(this.listeners.global=this.listeners&&this.listeners.global||[{type:this.isIE?"keydown":"input",target:this.DOM.input,cb:n[this.isIE?"onInputIE":"onInput"].bind(this)},{type:"keydown",target:window,cb:n.onWindowKeyDown.bind(this)},{type:"blur",target:this.DOM.input,cb:n.onFocusBlur.bind(this)}],this.listeners.global))t.target[i](t.type,t.cb)},unbindGlobal(){this.events.bindGlobal.call(this,!0)},callbacks:{onFocusBlur(e){var t=this.settings,n=e.target?this.trim(e.target.textContent):"",i=this.value?.[0]?.[t.tagTextProp],a=e.type,s=t.dropdown.enabled>=0,r={relatedTarget:e.relatedTarget},o=this.state.actions.selectOption&&(s||!t.dropdown.closeOnSelect),l=this.state.actions.addNew&&s,d=e.relatedTarget&&m.call(this,e.relatedTarget)&&this.DOM.scope.contains(e.relatedTarget);if("blur"==a){if(e.relatedTarget===this.DOM.scope)return this.dropdown.hide(),void this.DOM.input.focus();this.postUpdate(),t.onChangeAfterBlur&&this.triggerChangeEvent()}if(!o&&!l)if(this.state.hasFocus="focus"==a&&+new Date,this.toggleFocusClass(this.state.hasFocus),"mix"!=t.mode){if("focus"==a)return this.trigger("focus",r),void(0!==t.dropdown.enabled&&t.userInput||this.dropdown.show(this.value.length?"":void 0));"blur"==a&&(this.trigger("blur",r),this.loading(!1),"select"==t.mode&&(d&&(this.removeTags(),n=""),i===n&&(n="")),n&&!this.state.actions.selectOption&&t.addTagOnBlur&&this.addTags(n,!0)),this.DOM.input.removeAttribute("style"),this.dropdown.hide()}else"focus"==a?this.trigger("focus",r):"blur"==e.type&&(this.trigger("blur",r),this.loading(!1),this.dropdown.hide(),this.state.dropdown.visible=void 0,this.setStateSelection())},onCompositionStart(e){this.state.composing=!0},onCompositionEnd(e){this.state.composing=!1},onWindowKeyDown(e){var t,n=document.activeElement;if(m.call(this,n)&&this.DOM.scope.contains(document.activeElement))switch(t=n.nextElementSibling,e.key){case"Backspace":this.settings.readonly||(this.removeTags(n),(t||this.DOM.input).focus());break;case"Enter":setTimeout(this.editTag.bind(this),0,n)}},onKeydown(e){var t=this.settings;if(!this.state.composing&&t.userInput){"select"==t.mode&&t.enforceWhitelist&&this.value.length&&"Tab"!=e.key&&e.preventDefault();var n=this.trim(e.target.textContent);if(this.trigger("keydown",{event:e}),"mix"==t.mode){switch(e.key){case"Left":case"ArrowLeft":this.state.actions.ArrowLeft=!0;break;case"Delete":case"Backspace":if(this.state.editing)return;var i,a,s,o=document.getSelection(),d="Delete"==e.key&&o.anchorOffset==(o.anchorNode.length||0),c=o.anchorNode.previousSibling,u=1==o.anchorNode.nodeType||!o.anchorOffset&&c&&1==c.nodeType&&o.anchorNode.previousSibling,h=r(this.DOM.input.innerHTML),p=this.getTagElms();if("edit"==t.backspace&&u)return i=1==o.anchorNode.nodeType?null:o.anchorNode.previousElementSibling,setTimeout(this.editTag.bind(this),0,i),void e.preventDefault();if(f()&&u)return s=l(u),u.hasAttribute("readonly")||u.remove(),this.DOM.input.focus(),void setTimeout((()=>{this.placeCaretAfterNode(s),this.DOM.input.click()}));if("BR"==o.anchorNode.nodeName)return;if((d||u)&&1==o.anchorNode.nodeType?a=0==o.anchorOffset?d?p[0]:null:p[Math.min(p.length,o.anchorOffset)-1]:d?a=o.anchorNode.nextElementSibling:u&&(a=u),3==o.anchorNode.nodeType&&!o.anchorNode.nodeValue&&o.anchorNode.previousElementSibling&&e.preventDefault(),(u||d)&&!t.backspace)return void e.preventDefault();if("Range"!=o.type&&!o.anchorOffset&&o.anchorNode==this.DOM.input&&"Delete"!=e.key)return void e.preventDefault();if("Range"!=o.type&&a&&a.hasAttribute("readonly"))return void this.placeCaretAfterNode(l(a));clearTimeout(x),x=setTimeout((()=>{var e=document.getSelection(),t=r(this.DOM.input.innerHTML),n=!d&&e.anchorNode.previousSibling;if(t.length>=h.length&&n)if(m.call(this,n)&&!n.hasAttribute("readonly")){if(this.removeTags(n),this.fixFirefoxLastTagNoCaret(),2==this.DOM.input.children.length&&"BR"==this.DOM.input.children[1].tagName)return this.DOM.input.innerHTML="",this.value.length=0,!0}else n.remove();this.value=[].map.call(p,((e,t)=>{var n=this.tagData(e);if(e.parentNode||n.readonly)return n;this.trigger("remove",{tag:e,index:t,data:n})})).filter((e=>e))}),20)}return!0}switch(e.key){case"Backspace":"select"==t.mode&&t.enforceWhitelist&&this.value.length?this.removeTags():this.state.dropdown.visible&&"manual"!=t.dropdown.position||""!=e.target.textContent&&8203!=n.charCodeAt(0)||(!0===t.backspace?this.removeTags():"edit"==t.backspace&&setTimeout(this.editTag.bind(this),0));break;case"Esc":case"Escape":if(this.state.dropdown.visible)return;e.target.blur();break;case"Down":case"ArrowDown":this.state.dropdown.visible||this.dropdown.show();break;case"ArrowRight":{let e=this.state.inputSuggestion||this.state.ddItemData;if(e&&t.autoComplete.rightKey)return void this.addTags([e],!0);break}case"Tab":{let i="select"==t.mode;if(!n||i)return!0;e.preventDefault()}case"Enter":if(this.state.dropdown.visible&&"manual"!=t.dropdown.position)return;e.preventDefault(),setTimeout((()=>{this.state.actions.selectOption||this.addTags(n,!0)}))}}},onInput(e){this.postUpdate();var t=this.settings;if("mix"==t.mode)return this.events.callbacks.onMixTagsInput.call(this,e);var n=this.input.normalize.call(this),i=n.length>=t.dropdown.enabled,a={value:n,inputElm:this.DOM.input},s=this.validateTag({value:n});"select"==t.mode&&this.toggleScopeValidation(s),a.isValid=s,this.state.inputText!=n&&(this.input.set.call(this,n,!1),-1!=n.search(t.delimiters)?this.addTags(n)&&this.input.set.call(this):t.dropdown.enabled>=0&&this.dropdown[i?"show":"hide"](n),this.trigger("input",a))},onMixTagsInput(e){var t,n,i,a,s,r,o,l,d=this.settings,c=this.value.length,h=this.getTagElms(),p=document.createDocumentFragment(),g=window.getSelection().getRangeAt(0),m=[].map.call(h,(e=>this.tagData(e).value));if("deleteContentBackward"==e.inputType&&f()&&this.events.callbacks.onKeydown.call(this,{target:e.target,key:"Backspace"}),this.value.slice().forEach((e=>{e.readonly&&!m.includes(e.value)&&p.appendChild(this.createTagElem(e))})),p.childNodes.length&&(g.insertNode(p),this.setRangeAtStartEnd(!1,p.lastChild)),h.length!=c)return this.value=[].map.call(this.getTagElms(),(e=>this.tagData(e))),void this.update({withoutChangeEvent:!0});if(this.hasMaxTags())return!0;if(window.getSelection&&(r=window.getSelection()).rangeCount>0&&3==r.anchorNode.nodeType){if((g=r.getRangeAt(0).cloneRange()).collapse(!0),g.setStart(r.focusNode,0),i=(t=g.toString().slice(0,g.endOffset)).split(d.pattern).length-1,(n=t.match(d.pattern))&&(a=t.slice(t.lastIndexOf(n[n.length-1]))),a){if(this.state.actions.ArrowLeft=!1,this.state.tag={prefix:a.match(d.pattern)[0],value:a.replace(d.pattern,"")},this.state.tag.baseOffset=r.baseOffset-this.state.tag.value.length,l=this.state.tag.value.match(d.delimiters))return this.state.tag.value=this.state.tag.value.replace(d.delimiters,""),this.state.tag.delimiters=l[0],this.addTags(this.state.tag.value,d.dropdown.clearOnSelect),void this.dropdown.hide();s=this.state.tag.value.length>=d.dropdown.enabled;try{o=(o=this.state.flaggedTags[this.state.tag.baseOffset]).prefix==this.state.tag.prefix&&o.value[0]==this.state.tag.value[0],this.state.flaggedTags[this.state.tag.baseOffset]&&!this.state.tag.value&&delete this.state.flaggedTags[this.state.tag.baseOffset]}catch(e){}(o||i<this.state.mixMode.matchedPatternCount)&&(s=!1)}else this.state.flaggedTags={};this.state.mixMode.matchedPatternCount=i}setTimeout((()=>{this.update({withoutChangeEvent:!0}),this.trigger("input",u({},this.state.tag,{textContent:this.DOM.input.textContent})),this.state.tag&&this.dropdown[s?"show":"hide"](this.state.tag.value)}),10)},onInputIE(e){var t=this;setTimeout((function(){t.events.callbacks.onInput.call(t,e)}))},observeOriginalInputValue(){this.DOM.originalInput.parentNode||this.destroy(),this.DOM.originalInput.value!=this.DOM.originalInput.tagifyValue&&this.loadOriginalValues()},onClickScope(e){var t=this.settings,n=e.target.closest("."+t.classNames.tag),i=+new Date-this.state.hasFocus;if(e.target!=this.DOM.scope){if(!e.target.classList.contains(t.classNames.tagX))return n?(this.trigger("click",{tag:n,index:this.getNodeIndex(n),data:this.tagData(n),event:e}),void(1!==t.editTags&&1!==t.editTags.clicks||this.events.callbacks.onDoubleClickScope.call(this,e))):void(e.target==this.DOM.input&&("mix"==t.mode&&this.fixFirefoxLastTagNoCaret(),i>500)?this.state.dropdown.visible?this.dropdown.hide():0===t.dropdown.enabled&&"mix"!=t.mode&&this.dropdown.show(this.value.length?"":void 0):"select"==t.mode&&!this.state.dropdown.visible&&this.dropdown.show());this.removeTags(e.target.parentNode)}else this.state.hasFocus||this.DOM.input.focus()},onPaste(e){e.preventDefault();var t,n,i=this.settings;if("select"==i.mode&&i.enforceWhitelist||!i.userInput)return!1;i.readonly||(t=e.clipboardData||window.clipboardData,n=t.getData("Text"),i.hooks.beforePaste(e,{tagify:this,pastedText:n,clipboardData:t}).then((t=>{void 0===t&&(t=n),t&&(this.injectAtCaret(t,window.getSelection().getRangeAt(0)),"mix"==this.settings.mode?this.events.callbacks.onMixTagsInput.call(this,e):this.settings.pasteAsTags?this.addTags(this.state.inputText+t,!0):this.state.inputText=t)})).catch((e=>e)))},onDrop(e){e.preventDefault()},onEditTagInput(e,t){var n=e.closest("."+this.settings.classNames.tag),i=this.getNodeIndex(n),a=this.tagData(n),s=this.input.normalize.call(this,e),r={[this.settings.tagTextProp]:s,__tagId:a.__tagId},o=this.validateTag(r);this.editTagChangeDetected(u(a,r))||!0!==e.originalIsValid||(o=!0),n.classList.toggle(this.settings.classNames.tagInvalid,!0!==o),a.__isValid=o,n.title=!0===o?a.title||a.value:o,s.length>=this.settings.dropdown.enabled&&(this.state.editing&&(this.state.editing.value=s),this.dropdown.show(s)),this.trigger("edit:input",{tag:n,index:i,data:u({},this.value[i],{newValue:s}),event:t})},onEditTagFocus(e){this.state.editing={scope:e,input:e.querySelector("[contenteditable]")}},onEditTagBlur(e){if(this.state.hasFocus||this.toggleFocusClass(),this.DOM.scope.contains(e)){var t,n,i=this.settings,a=e.closest("."+i.classNames.tag),s=this.input.normalize.call(this,e),r=this.tagData(a),o=r.__originalData,l=this.editTagChangeDetected(r),d=this.validateTag({[i.tagTextProp]:s,__tagId:r.__tagId});if(s)if(l){if(t=this.hasMaxTags(),n=u({},o,{[i.tagTextProp]:this.trim(s),__isValid:d}),i.transformTag.call(this,n,o),!0!==(d=(!t||!0===o.__isValid)&&this.validateTag(n))){if(this.trigger("invalid",{data:n,tag:a,message:d}),i.editTags.keepInvalid)return;i.keepInvalidTags?n.__isValid=d:n=o}else i.keepInvalidTags&&(delete n.title,delete n["aria-invalid"],delete n.class);this.onEditTagDone(a,n)}else this.onEditTagDone(a,o);else this.onEditTagDone(a)}},onEditTagkeydown(e,t){if(!this.state.composing)switch(this.trigger("edit:keydown",{event:e}),e.key){case"Esc":case"Escape":t.parentNode.replaceChild(t.__tagifyTagData.__originalHTML,t),this.state.editing=!1;case"Enter":case"Tab":e.preventDefault(),e.target.blur()}},onDoubleClickScope(e){var t,n,i=e.target.closest("."+this.settings.classNames.tag),a=this.tagData(i),s=this.settings;i&&s.userInput&&!1!==a.editable&&(t=i.classList.contains(this.settings.classNames.tagEditing),n=i.hasAttribute("readonly"),"select"==s.mode||s.readonly||t||n||!this.settings.editTags||this.editTag(i),this.toggleFocusClass(!0),this.trigger("dblclick",{tag:i,index:this.getNodeIndex(i),data:this.tagData(i)}))},onInputDOMChange(e){e.forEach((e=>{e.addedNodes.forEach((e=>{if("<div><br></div>"==e.outerHTML)e.replaceWith(document.createElement("br"));else if(1==e.nodeType&&e.querySelector(this.settings.classNames.tagSelector)){let t=document.createTextNode("");3==e.childNodes[0].nodeType&&"BR"!=e.previousSibling.nodeName&&(t=document.createTextNode("\n")),e.replaceWith(t,...[...e.childNodes].slice(0,-1)),this.placeCaretAfterNode(t)}else if(m.call(this,e)&&(3!=e.previousSibling?.nodeType||e.previousSibling.textContent||e.previousSibling.remove(),e.previousSibling&&"BR"==e.previousSibling.nodeName)){e.previousSibling.replaceWith("\n");let t=e.nextSibling,n="";for(;t;)n+=t.textContent,t=t.nextSibling;n.trim()&&this.placeCaretAfterNode(e.previousSibling)}})),e.removedNodes.forEach((e=>{e&&"BR"==e.nodeName&&m.call(this,t)&&(this.removeTags(t),this.fixFirefoxLastTagNoCaret())}))}));var t=this.DOM.input.lastChild;t&&""==t.nodeValue&&t.remove(),t&&"BR"==t.nodeName||this.DOM.input.appendChild(document.createElement("br"))}}};function C(e,t){if(!e){console.warn("Tagify:","input element not found",e);const t=new Proxy(this,{get:()=>()=>t});return t}if(e.__tagify)return console.warn("Tagify: ","input element is already Tagified - Same instance is returned.",e),e.__tagify;var n;u(this,function(e){var t=document.createTextNode("");function n(e,n,i){i&&n.split(/\s+/g).forEach((n=>t[e+"EventListener"].call(t,n,i)))}return{off(e,t){return n("remove",e,t),this},on(e,t){return t&&"function"==typeof t&&n("add",e,t),this},trigger(n,i,a){var s;if(a=a||{cloneData:!0},n)if(e.settings.isJQueryPlugin)"remove"==n&&(n="removeTag"),jQuery(e.DOM.originalInput).triggerHandler(n,[i]);else{try{var r="object"==typeof i?i:{value:i};if((r=a.cloneData?u({},r):r).tagify=this,i.event&&(r.event=this.cloneEvent(i.event)),i instanceof Object)for(var o in i)i[o]instanceof HTMLElement&&(r[o]=i[o]);s=new CustomEvent(n,{detail:r})}catch(e){console.warn(e)}t.dispatchEvent(s)}}}}(this)),this.isFirefox="undefined"!=typeof InstallTrigger,this.isIE=window.document.documentMode,t=t||{},this.getPersistedData=(n=t.id,e=>{let t,i="/"+e;if(1==localStorage.getItem(w+n+"/v",1))try{t=JSON.parse(localStorage[w+n+i])}catch(e){}return t}),this.setPersistedData=(e=>e?(localStorage.setItem(w+e+"/v",1),(t,n)=>{let i="/"+n,a=JSON.stringify(t);t&&n&&(localStorage.setItem(w+e+i,a),dispatchEvent(new Event("storage")))}):()=>{})(t.id),this.clearPersistedData=(e=>t=>{const n=w+"/"+e+"/";if(t)localStorage.removeItem(n+t);else for(let e in localStorage)e.includes(n)&&localStorage.removeItem(e)})(t.id),this.applySettings(e,t),this.state={inputText:"",editing:!1,composing:!1,actions:{},mixMode:{},dropdown:{},flaggedTags:{}},this.value=[],this.listeners={},this.DOM={},this.build(e),b.call(this),this.getCSSVars(),this.loadOriginalValues(),this.events.customBinding.call(this),this.events.binding.call(this),e.autofocus&&this.DOM.input.focus(),e.__tagify=this}return C.prototype={_dropdown:y,helpers:{sameStr:i,removeCollectionProp:a,omit:s,isObject:c,parseHTML:o,escapeHTML:d,extend:u,concatWithoutDups:h,getUID:g,isNodeTag:m},customEventsList:["change","add","remove","invalid","input","click","keydown","focus","blur","edit:input","edit:beforeUpdate","edit:updated","edit:start","edit:keydown","dropdown:show","dropdown:hide","dropdown:select","dropdown:updated","dropdown:noMatch","dropdown:scroll"],dataProps:["__isValid","__removed","__originalData","__originalHTML","__tagId"],trim(e){return this.settings.trim&&e&&"string"==typeof e?e.trim():e},parseHTML:o,templates:T,parseTemplate(e,t){return e=this.settings.templates[e]||e,this.parseHTML(e.apply(this,t))},set whitelist(e){const t=e&&Array.isArray(e);this.settings.whitelist=t?e:[],this.setPersistedData(t?e:[],"whitelist")},get whitelist(){return this.settings.whitelist},generateClassSelectors(e){for(let t in e){let n=t;Object.defineProperty(e,n+"Selector",{get(){return"."+this[n].split(" ")[0]}})}},applySettings(e,n){v.templates=this.templates;var i=this.settings=u({},v,n);if(i.disabled=e.hasAttribute("disabled"),i.readonly=i.readonly||e.hasAttribute("readonly"),i.placeholder=d(e.getAttribute("placeholder")||i.placeholder||""),i.required=e.hasAttribute("required"),this.generateClassSelectors(i.classNames),void 0===i.dropdown.includeSelectedTags&&(i.dropdown.includeSelectedTags=i.duplicates),this.isIE&&(i.autoComplete=!1),["whitelist","blacklist"].forEach((t=>{var n=e.getAttribute("data-"+t);n&&(n=n.split(i.delimiters))instanceof Array&&(i[t]=n)})),"autoComplete"in n&&!c(n.autoComplete)&&(i.autoComplete=v.autoComplete,i.autoComplete.enabled=n.autoComplete),"mix"==i.mode&&(i.autoComplete.rightKey=!0,i.delimiters=n.delimiters||null,i.tagTextProp&&!i.dropdown.searchKeys.includes(i.tagTextProp)&&i.dropdown.searchKeys.push(i.tagTextProp)),e.pattern)try{i.pattern=new RegExp(e.pattern)}catch(e){}if(i.delimiters){i._delimiters=i.delimiters;try{i.delimiters=new RegExp(this.settings.delimiters,"g")}catch(e){}}i.disabled&&(i.userInput=!1),this.TEXTS=t(t({},_),i.texts||{}),"select"!=i.mode&&i.userInput||(i.dropdown.enabled=0),i.dropdown.appendTarget=n.dropdown&&n.dropdown.appendTarget?n.dropdown.appendTarget:document.body;let a=this.getPersistedData("whitelist");Array.isArray(a)&&(this.whitelist=Array.isArray(i.whitelist)?h(i.whitelist,a):a)},getAttributes(e){var t,n=this.getCustomAttributes(e),i="";for(t in n)i+=" "+t+(void 0!==e[t]?`="${n[t]}"`:"");return i},getCustomAttributes(e){if(!c(e))return"";var t,n={};for(t in e)"__"!=t.slice(0,2)&&"class"!=t&&e.hasOwnProperty(t)&&void 0!==e[t]&&(n[t]=d(e[t]));return n},setStateSelection(){var e=window.getSelection(),t={anchorOffset:e.anchorOffset,anchorNode:e.anchorNode,range:e.getRangeAt&&e.rangeCount&&e.getRangeAt(0)};return this.state.selection=t,t},getCaretGlobalPosition(){const e=document.getSelection();if(e.rangeCount){const t=e.getRangeAt(0),n=t.startContainer,i=t.startOffset;let a,s;if(i>0)return s=document.createRange(),s.setStart(n,i-1),s.setEnd(n,i),a=s.getBoundingClientRect(),{left:a.right,top:a.top,bottom:a.bottom};if(n.getBoundingClientRect)return n.getBoundingClientRect()}return{left:-9999,top:-9999}},getCSSVars(){var e=getComputedStyle(this.DOM.scope,null);this.CSSVars={tagHideTransition:(e=>{let t=e.value;return"s"==e.unit?1e3*t:t})(function(e){if(!e)return{};var t=(e=e.trim().split(" ")[0]).split(/\d+/g).filter((e=>e)).pop().trim();return{value:+e.split(t).filter((e=>e))[0].trim(),unit:t}}(("tag-hide-transition",e.getPropertyValue("--tag-hide-transition"))))}},build(e){var t=this.DOM;this.settings.mixMode.integrated?(t.originalInput=null,t.scope=e,t.input=e):(t.originalInput=e,t.originalInput_tabIndex=e.tabIndex,t.scope=this.parseTemplate("wrapper",[e,this.settings]),t.input=t.scope.querySelector(this.settings.classNames.inputSelector),e.parentNode.insertBefore(t.scope,e),e.tabIndex=-1)},destroy(){this.events.unbindGlobal.call(this),this.DOM.scope.parentNode.removeChild(this.DOM.scope),this.DOM.originalInput.tabIndex=this.DOM.originalInput_tabIndex,delete this.DOM.originalInput.__tagify,this.dropdown.hide(!0),clearTimeout(this.dropdownHide__bindEventsTimeout),clearInterval(this.listeners.main.originalInputValueObserverInterval)},loadOriginalValues(e){var t,n=this.settings;if(this.state.blockChangeEvent=!0,void 0===e){const t=this.getPersistedData("value");e=t&&!this.DOM.originalInput.value?t:n.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value}if(this.removeAllTags(),e)if("mix"==n.mode)this.parseMixTags(this.trim(e)),(t=this.DOM.input.lastChild)&&"BR"==t.tagName||this.DOM.input.insertAdjacentHTML("beforeend","<br>");else{try{JSON.parse(e)instanceof Array&&(e=JSON.parse(e))}catch(e){}this.addTags(e,!0).forEach((e=>e&&e.classList.add(n.classNames.tagNoAnimation)))}else this.postUpdate();this.state.lastOriginalValueReported=n.mixMode.integrated?"":this.DOM.originalInput.value,this.state.blockChangeEvent=!1},cloneEvent(e){var t={};for(var n in e)"path"!=n&&(t[n]=e[n]);return t},loading(e){return this.state.isLoading=e,this.DOM.scope.classList[e?"add":"remove"](this.settings.classNames.scopeLoading),this},tagLoading(e,t){return e&&e.classList[t?"add":"remove"](this.settings.classNames.tagLoading),this},toggleClass(e,t){"string"==typeof e&&this.DOM.scope.classList.toggle(e,t)},toggleScopeValidation(e){var t=!0===e||void 0===e;!this.settings.required&&e&&e===this.TEXTS.empty&&(t=!0),this.toggleClass(this.settings.classNames.tagInvalid,!t),this.DOM.scope.title=t?"":e},toggleFocusClass(e){this.toggleClass(this.settings.classNames.focus,!!e)},triggerChangeEvent:function(){if(!this.settings.mixMode.integrated){var e=this.DOM.originalInput,t=this.state.lastOriginalValueReported!==e.value,n=new CustomEvent("change",{bubbles:!0});t&&(this.state.lastOriginalValueReported=e.value,n.simulated=!0,e._valueTracker&&e._valueTracker.setValue(Math.random()),e.dispatchEvent(n),this.trigger("change",this.state.lastOriginalValueReported),e.value=this.state.lastOriginalValueReported)}},events:D,fixFirefoxLastTagNoCaret(){},placeCaretAfterNode(e){if(e&&e.parentNode){var t=e,n=window.getSelection(),i=n.getRangeAt(0);n.rangeCount&&(i.setStartAfter(t||e),i.collapse(!0),n.removeAllRanges(),n.addRange(i))}},insertAfterTag(e,t){if(t=t||this.settings.mixMode.insertAfterTag,e&&e.parentNode&&t)return t="string"==typeof t?document.createTextNode(t):t,e.parentNode.insertBefore(t,e.nextSibling),t},editTagChangeDetected(e){var t=e.__originalData;for(var n in t)if(!this.dataProps.includes(n)&&e[n]!=t[n])return!0;return!1},getTagTextNode(e){return e.querySelector(this.settings.classNames.tagTextSelector)},setTagTextNode(e,t){this.getTagTextNode(e).innerHTML=d(t)},editTag(e,t){e=e||this.getLastTag(),t=t||{},this.dropdown.hide();var n=this.settings,i=this.getTagTextNode(e),a=this.getNodeIndex(e),s=this.tagData(e),r=this.events.callbacks,o=this,l=!0;if(i){if(!(s instanceof Object&&"editable"in s)||s.editable)return s=this.tagData(e,{__originalData:u({},s),__originalHTML:e.cloneNode(!0)}),this.tagData(s.__originalHTML,s.__originalData),i.setAttribute("contenteditable",!0),e.classList.add(n.classNames.tagEditing),i.addEventListener("focus",r.onEditTagFocus.bind(this,e)),i.addEventListener("blur",(function(){setTimeout((()=>r.onEditTagBlur.call(o,o.getTagTextNode(e))))})),i.addEventListener("input",r.onEditTagInput.bind(this,i)),i.addEventListener("keydown",(t=>r.onEditTagkeydown.call(this,t,e))),i.addEventListener("compositionstart",r.onCompositionStart.bind(this)),i.addEventListener("compositionend",r.onCompositionEnd.bind(this)),t.skipValidation||(l=this.editTagToggleValidity(e)),i.originalIsValid=l,this.trigger("edit:start",{tag:e,index:a,data:s,isValid:l}),i.focus(),this.setRangeAtStartEnd(!1,i),this}else console.warn("Cannot find element in Tag template: .",n.classNames.tagTextSelector)},editTagToggleValidity(e,t){var n;if(t=t||this.tagData(e))return(n=!("__isValid"in t)||!0===t.__isValid)||this.removeTagsFromValue(e),this.update(),e.classList.toggle(this.settings.classNames.tagNotAllowed,!n),t.__isValid;console.warn("tag has no data: ",e,t)},onEditTagDone(e,t){t=t||{};var n={tag:e=e||this.state.editing.scope,index:this.getNodeIndex(e),previousData:this.tagData(e),data:t};this.trigger("edit:beforeUpdate",n,{cloneData:!1}),this.state.editing=!1,delete t.__originalData,delete t.__originalHTML,e&&t[this.settings.tagTextProp]?(e=this.replaceTag(e,t),this.editTagToggleValidity(e,t),this.settings.a11y.focusableTags?e.focus():this.placeCaretAfterNode(e)):e&&this.removeTags(e),this.trigger("edit:updated",n),this.dropdown.hide(),this.settings.keepInvalidTags&&this.reCheckInvalidTags()},replaceTag(e,t){t&&t.value||(t=e.__tagifyTagData),t.__isValid&&1!=t.__isValid&&u(t,this.getInvalidTagAttrs(t,t.__isValid));var n=this.createTagElem(t);return e.parentNode.replaceChild(n,e),this.updateValueByDOMTags(),n},updateValueByDOMTags(){this.value.length=0,[].forEach.call(this.getTagElms(),(e=>{e.classList.contains(this.settings.classNames.tagNotAllowed.split(" ")[0])||this.value.push(this.tagData(e))})),this.update()},setRangeAtStartEnd(e,t){e="number"==typeof e?e:!!e,t=(t=t||this.DOM.input).lastChild||t;var n=document.getSelection();try{n.rangeCount>=1&&["Start","End"].forEach((i=>n.getRangeAt(0)["set"+i](t,e||t.length)))}catch(e){}},injectAtCaret(e,t){return!(t=t||this.state.selection?.range)&&e?(this.appendMixTags(e),this):("string"==typeof e&&(e=document.createTextNode(e)),t.deleteContents(),t.insertNode(e),this.setRangeAtStartEnd(!1,e),this.updateValueByDOMTags(),this.update(),this)},input:{set(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var n=this.settings.dropdown.closeOnSelect;this.state.inputText=e,t&&(this.DOM.input.innerHTML=d(""+e)),!e&&n&&this.dropdown.hide.bind(this),this.input.autocomplete.suggest.call(this),this.input.validate.call(this)},raw(){return this.DOM.input.textContent},validate(){var e=!this.state.inputText||!0===this.validateTag({value:this.state.inputText});return this.DOM.input.classList.toggle(this.settings.classNames.inputInvalid,!e),e},normalize(e){var t=e||this.DOM.input,n=[];t.childNodes.forEach((e=>3==e.nodeType&&n.push(e.nodeValue))),n=n.join("\n");try{n=n.replace(/(?:\r\n|\r|\n)/g,this.settings.delimiters.source.charAt(0))}catch(e){}return n=n.replace(/\s/g," "),this.trim(n)},autocomplete:{suggest(e){if(this.settings.autoComplete.enabled){"string"==typeof(e=e||{})&&(e={value:e});var t=e.value?""+e.value:"",n=t.substr(0,this.state.inputText.length).toLowerCase(),i=t.substring(this.state.inputText.length);t&&this.state.inputText&&n==this.state.inputText.toLowerCase()?(this.DOM.input.setAttribute("data-suggest",i),this.state.inputSuggestion=e):(this.DOM.input.removeAttribute("data-suggest"),delete this.state.inputSuggestion)}},set(e){var t=this.DOM.input.getAttribute("data-suggest"),n=e||(t?this.state.inputText+t:null);return!!n&&("mix"==this.settings.mode?this.replaceTextWithNode(document.createTextNode(this.state.tag.prefix+n)):(this.input.set.call(this,n),this.setRangeAtStartEnd()),this.input.autocomplete.suggest.call(this),this.dropdown.hide(),!0)}}},getTagIdx(e){return this.value.findIndex((t=>t.__tagId==(e||{}).__tagId))},getNodeIndex(e){var t=0;if(e)for(;e=e.previousElementSibling;)t++;return t},getTagElms(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i="."+[...this.settings.classNames.tag.split(" "),...t].join(".");return[].slice.call(this.DOM.scope.querySelectorAll(i))},getLastTag(){var e=this.DOM.scope.querySelectorAll(`${this.settings.classNames.tagSelector}:not(.${this.settings.classNames.tagHide}):not([readonly])`);return e[e.length-1]},tagData:(e,t,n)=>e?(t&&(e.__tagifyTagData=n?t:u({},e.__tagifyTagData||{},t)),e.__tagifyTagData):(console.warn("tag element doesn't exist",e,t),t),isTagDuplicate(e,t,n){var a=0;if("select"==this.settings.mode)return!1;for(let s of this.value)i(this.trim(""+e),s.value,t)&&n!=s.__tagId&&a++;return a},getTagIndexByValue(e){var t=[];return this.getTagElms().forEach(((n,a)=>{i(this.trim(n.textContent),e,this.settings.dropdown.caseSensitive)&&t.push(a)})),t},getTagElmByValue(e){var t=this.getTagIndexByValue(e)[0];return this.getTagElms()[t]},flashTag(e){e&&(e.classList.add(this.settings.classNames.tagFlash),setTimeout((()=>{e.classList.remove(this.settings.classNames.tagFlash)}),100))},isTagBlacklisted(e){return e=this.trim(e.toLowerCase()),this.settings.blacklist.filter((t=>(""+t).toLowerCase()==e)).length},isTagWhitelisted(e){return!!this.getWhitelistItem(e)},getWhitelistItem(e,t,n){t=t||"value";var a,s=this.settings;return(n=n||s.whitelist).some((n=>{var r="string"==typeof n?n:n[t]||n.value;if(i(r,e,s.dropdown.caseSensitive,s.trim))return a="string"==typeof n?{value:n}:n,!0})),a||"value"!=t||"value"==s.tagTextProp||(a=this.getWhitelistItem(e,s.tagTextProp,n)),a},validateTag(e){var t=this.settings,n="value"in e?"value":t.tagTextProp,i=this.trim(e[n]+"");return(e[n]+"").trim()?t.pattern&&t.pattern instanceof RegExp&&!t.pattern.test(i)?this.TEXTS.pattern:!t.duplicates&&this.isTagDuplicate(i,t.dropdown.caseSensitive,e.__tagId)?this.TEXTS.duplicate:this.isTagBlacklisted(i)||t.enforceWhitelist&&!this.isTagWhitelisted(i)?this.TEXTS.notAllowed:!t.validate||t.validate(e):this.TEXTS.empty},getInvalidTagAttrs(e,t){return{"aria-invalid":!0,class:`${e.class||""} ${this.settings.classNames.tagNotAllowed}`.trim(),title:t}},hasMaxTags(){return this.value.length>=this.settings.maxTags&&this.TEXTS.exceed},setReadonly(e,t){var n=this.settings;document.activeElement.blur(),n[t||"readonly"]=e,this.DOM.scope[(e?"set":"remove")+"Attribute"](t||"readonly",!0),this.setContentEditable(!e)},setContentEditable(e){this.settings.userInput&&(this.DOM.input.contentEditable=e,this.DOM.input.tabIndex=e?0:-1)},setDisabled(e){this.setReadonly(e,"disabled")},normalizeTags(e){var t=this.settings,n=t.whitelist,i=t.delimiters,a=t.mode,s=t.tagTextProp;t.enforceWhitelist;var r=[],o=!!n&&n[0]instanceof Object,l=Array.isArray(e),d=l&&e[0].value,c=e=>(e+"").split(i).filter((e=>e)).map((e=>({[s]:this.trim(e),value:this.trim(e)})));if("number"==typeof e&&(e=e.toString()),"string"==typeof e){if(!e.trim())return[];e=c(e)}else l&&(e=[].concat(...e.map((e=>e.value?e:c(e)))));return o&&!d&&(e.forEach((e=>{var t=r.map((e=>e.value)),n=this.dropdown.filterListItems.call(this,e[s],{exact:!0});this.settings.duplicates||(n=n.filter((e=>!t.includes(e.value))));var i=n.length>1?this.getWhitelistItem(e[s],s,n):n[0];i&&i instanceof Object?r.push(i):"mix"!=a&&(null==e.value&&(e.value=e[s]),r.push(e))})),r.length&&(e=r)),e},parseMixTags(e){var t=this.settings,n=t.mixTagsInterpolator,i=t.duplicates,a=t.transformTag,s=t.enforceWhitelist,r=t.maxTags,o=t.tagTextProp,l=[];return e=e.split(n[0]).map(((e,t)=>{var d,c,u,h=e.split(n[1]),p=h[0],f=l.length==r;try{if(p==+p)throw Error;c=JSON.parse(p)}catch(e){c=this.normalizeTags(p)[0]||{value:p}}if(a.call(this,c),f||!(h.length>1)||s&&!this.isTagWhitelisted(c.value)||!i&&this.isTagDuplicate(c.value)){if(e)return t?n[0]+e:e}else c[d=c[o]?o:"value"]=this.trim(c[d]),u=this.createTagElem(c),l.push(c),u.classList.add(this.settings.classNames.tagNoAnimation),h[0]=u.outerHTML,this.value.push(c);return h.join("")})).join(""),this.DOM.input.innerHTML=e,this.DOM.input.appendChild(document.createTextNode("")),this.DOM.input.normalize(),this.getTagElms().forEach(((e,t)=>this.tagData(e,l[t]))),this.update({withoutChangeEvent:!0}),e},replaceTextWithNode(e,t){if(this.state.tag||t){t=t||this.state.tag.prefix+this.state.tag.value;var n,i,a=this.state.selection||window.getSelection(),s=a.anchorNode,r=this.state.tag.delimiters?this.state.tag.delimiters.length:0;return s.splitText(a.anchorOffset-r),-1==(n=s.nodeValue.lastIndexOf(t))||(i=s.splitText(n),e&&s.parentNode.replaceChild(e,i)),!0}},selectTag(e,t){var n=this.settings;if(!n.enforceWhitelist||this.isTagWhitelisted(t.value)){this.input.set.call(this,t[n.tagTextProp]||t.value,!0),this.state.actions.selectOption&&setTimeout(this.setRangeAtStartEnd.bind(this));var i=this.getLastTag();return i?this.replaceTag(i,t):this.appendTag(e),this.value[0]=t,this.update(),this.trigger("add",{tag:e,data:t}),[e]}},addEmptyTag(e){var t=u({value:""},e||{}),n=this.createTagElem(t);this.tagData(n,t),this.appendTag(n),this.editTag(n,{skipValidation:!0})},addTags(e,t,n){var i=[],a=this.settings,s=[],r=document.createDocumentFragment();if(n=n||a.skipInvalid,!e||0==e.length)return i;switch(e=this.normalizeTags(e),a.mode){case"mix":return this.addMixTags(e);case"select":t=!1,this.removeAllTags()}return this.DOM.input.removeAttribute("style"),e.forEach((e=>{var t,o={},l=Object.assign({},e,{value:e.value+""});if(e=Object.assign({},l),a.transformTag.call(this,e),e.__isValid=this.hasMaxTags()||this.validateTag(e),!0!==e.__isValid){if(n)return;if(u(o,this.getInvalidTagAttrs(e,e.__isValid),{__preInvalidData:l}),e.__isValid==this.TEXTS.duplicate&&this.flashTag(this.getTagElmByValue(e.value)),!a.createInvalidTags)return void s.push(e.value)}if("readonly"in e&&(e.readonly?o["aria-readonly"]=!0:delete e.readonly),t=this.createTagElem(e,o),i.push(t),"select"==a.mode)return this.selectTag(t,e);r.appendChild(t),e.__isValid&&!0===e.__isValid?(this.value.push(e),this.trigger("add",{tag:t,index:this.value.length-1,data:e})):(this.trigger("invalid",{data:e,index:this.value.length,tag:t,message:e.__isValid}),a.keepInvalidTags||setTimeout((()=>this.removeTags(t,!0)),1e3)),this.dropdown.position()})),this.appendTag(r),this.update(),e.length&&t&&(this.input.set.call(this,a.createInvalidTags?"":s.join(a._delimiters)),this.setRangeAtStartEnd()),a.dropdown.enabled&&this.dropdown.refilter(),i},addMixTags(e){if((e=this.normalizeTags(e))[0].prefix||this.state.tag)return this.prefixedTextToTag(e[0]);"string"==typeof e&&(e=[{value:e}]),this.state.selection;var t=document.createDocumentFragment();return e.forEach((e=>{var n=this.createTagElem(e);t.appendChild(n),this.insertAfterTag(n)})),this.appendMixTags(t),t},appendMixTags(e){var t=!!this.state.selection;t?this.injectAtCaret(e):(this.DOM.input.focus(),(t=this.setStateSelection()).range.setStart(this.DOM.input,t.range.endOffset),t.range.setEnd(this.DOM.input,t.range.endOffset),this.DOM.input.appendChild(e),this.updateValueByDOMTags(),this.update())},prefixedTextToTag(e){var t,n=this.settings,i=this.state.tag.delimiters;if(n.transformTag.call(this,e),e.prefix=e.prefix||this.state.tag?this.state.tag.prefix:(n.pattern.source||n.pattern)[0],t=this.createTagElem(e),this.replaceTextWithNode(t)||this.DOM.input.appendChild(t),setTimeout((()=>t.classList.add(this.settings.classNames.tagNoAnimation)),300),this.value.push(e),this.update(),!i){var a=this.insertAfterTag(t)||t;this.placeCaretAfterNode(a)}return this.state.tag=null,this.trigger("add",u({},{tag:t},{data:e})),t},appendTag(e){var t=this.DOM,n=t.input;n===t.input?t.scope.insertBefore(e,n):t.scope.appendChild(e)},createTagElem(e,n){e.__tagId=g();var i,a=u({},e,t({value:d(e.value+"")},n));return function(e){for(var t,n=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,null,!1);t=n.nextNode();)t.textContent.trim()||t.parentNode.removeChild(t)}(i=this.parseTemplate("tag",[a,this])),this.tagData(i,e),i},reCheckInvalidTags(){var e=this.settings;this.getTagElms(e.classNames.tagNotAllowed).forEach(((t,n)=>{var i=this.tagData(t),a=this.hasMaxTags(),s=this.validateTag(i),r=!0===s&&!a;if("select"==e.mode&&this.toggleScopeValidation(s),r)return i=i.__preInvalidData?i.__preInvalidData:{value:i.value},this.replaceTag(t,i);t.title=a||s}))},removeTags(e,t,n){var i,a=this.settings;if(e=e&&e instanceof HTMLElement?[e]:e instanceof Array?e:e?[e]:[this.getLastTag()],i=e.reduce(((e,t)=>{t&&"string"==typeof t&&(t=this.getTagElmByValue(t));var n=this.tagData(t);return t&&n&&!n.readonly&&e.push({node:t,idx:this.getTagIdx(n),data:this.tagData(t,{__removed:!0})}),e}),[]),n="number"==typeof n?n:this.CSSVars.tagHideTransition,"select"==a.mode&&(n=0,this.input.set.call(this)),1==i.length&&"select"!=a.mode&&i[0].node.classList.contains(a.classNames.tagNotAllowed)&&(t=!0),i.length)return a.hooks.beforeRemoveTag(i,{tagify:this}).then((()=>{function e(e){e.node.parentNode&&(e.node.parentNode.removeChild(e.node),t?a.keepInvalidTags&&this.trigger("remove",{tag:e.node,index:e.idx}):(this.trigger("remove",{tag:e.node,index:e.idx,data:e.data}),this.dropdown.refilter(),this.dropdown.position(),this.DOM.input.normalize(),a.keepInvalidTags&&this.reCheckInvalidTags()))}n&&n>10&&1==i.length?function(t){t.node.style.width=parseFloat(window.getComputedStyle(t.node).width)+"px",document.body.clientTop,t.node.classList.add(a.classNames.tagHide),setTimeout(e.bind(this),n,t)}.call(this,i[0]):i.forEach(e.bind(this)),t||(this.removeTagsFromValue(i.map((e=>e.node))),this.update(),"select"==a.mode&&this.setContentEditable(!0))})).catch((e=>{}))},removeTagsFromDOM(){[].slice.call(this.getTagElms()).forEach((e=>e.parentNode.removeChild(e)))},removeTagsFromValue(e){(e=Array.isArray(e)?e:[e]).forEach((e=>{var t=this.tagData(e),n=this.getTagIdx(t);n>-1&&this.value.splice(n,1)}))},removeAllTags(e){e=e||{},this.value=[],"mix"==this.settings.mode?this.DOM.input.innerHTML="":this.removeTagsFromDOM(),this.dropdown.refilter(),this.dropdown.position(),this.state.dropdown.visible&&setTimeout((()=>{this.DOM.input.focus()})),"select"==this.settings.mode&&(this.input.set.call(this),this.setContentEditable(!0)),this.update(e)},postUpdate(){var e=this.settings,t=e.classNames,n="mix"==e.mode?e.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value.trim():this.value.length+this.input.raw.call(this).length;this.toggleClass(t.hasMaxTags,this.value.length>=e.maxTags),this.toggleClass(t.hasNoTags,!this.value.length),this.toggleClass(t.empty,!n),"select"==e.mode&&this.toggleScopeValidation(this.value?.[0]?.__isValid)},setOriginalInputValue(e){var t=this.DOM.originalInput;this.settings.mixMode.integrated||(t.value=e,t.tagifyValue=t.value,this.setPersistedData(e,"value"))},update(e){var t=this.getInputValue();this.setOriginalInputValue(t),this.postUpdate(),this.settings.onChangeAfterBlur&&(e||{}).withoutChangeEvent||this.state.blockChangeEvent||this.triggerChangeEvent()},getInputValue(){var e=this.getCleanValue();return"mix"==this.settings.mode?this.getMixedTagsAsString(e):e.length?this.settings.originalInputValueFormat?this.settings.originalInputValueFormat(e):JSON.stringify(e):""},getCleanValue(e){return a(e||this.value,this.dataProps)},getMixedTagsAsString(){var e="",t=this,n=this.settings,i=n.originalInputValueFormat||JSON.stringify,a=n.mixTagsInterpolator;return function n(r){r.childNodes.forEach((r=>{if(1==r.nodeType){const o=t.tagData(r);if("BR"==r.tagName&&(e+="\r\n"),o&&m.call(t,r)){if(o.__removed)return;e+=a[0]+i(s(o,t.dataProps))+a[1]}else r.getAttribute("style")||["B","I","U"].includes(r.tagName)?e+=r.textContent:"DIV"!=r.tagName&&"P"!=r.tagName||(e+="\r\n",n(r))}else e+=r.textContent}))}(this.DOM.input),e}},C.prototype.removeTag=C.prototype.removeTags,C})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Pristine=t()}(this,(function(){"use strict";var e={required:"This field is required",email:"This field requires a valid e-mail address",number:"This field requires a number",integer:"This field requires an integer value",url:"This field requires a valid website URL",tel:"This field requires a valid telephone number",maxlength:"This fields length must be < ${1}",minlength:"This fields length must be > ${1}",min:"Minimum value for this field is ${1}",max:"Maximum value for this field is ${1}",pattern:"Please match the requested format"};function t(e){var t=arguments;return this.replace(/\${([^{}]*)}/g,(function(e,n){return t[n]}))}function n(e){return e.pristine.self.form.querySelectorAll('input[name="'+e.getAttribute("name")+'"]:checked').length}var i={classTo:"form-group",errorClass:"has-danger",successClass:"has-success",errorTextParent:"form-group",errorTextTag:"div",errorTextClass:"text-help"},a=["required","min","max","minlength","maxlength","pattern"],s=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,r={},o=function(t,n){n.name=t,n.msg||(n.msg=e[t]),void 0===n.priority&&(n.priority=1),r[t]=n};function l(e,n,s){var o=this;function l(e,t,n,i){var a=r[n];if(a&&(e.push(a),i)){var s=i.split(",");s.unshift(null),t[n]=s}}function d(e){for(var n,i=[],a=!0,s=0;e.validators[s];s++){var r=e.validators[s],o=e.params[r.name]?e.params[r.name]:[];if(o[0]=e.input.value,!r.fn.apply(e.input,o)){if(a=!1,(n=r.msg)&&n.constructor&&n.call&&n.apply)i.push(r.msg(e.input.value,o));else{var l=e.messages[r.name]||r.msg;i.push(t.apply(l,o))}if(!0===r.halt)break}}return e.errors=i,a}function c(e){if(e.errorElements)return e.errorElements;var t=function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}(e.input,o.config.classTo),n=null,i=null;return(n=o.config.classTo===o.config.errorTextParent?t:t.querySelector("."+o.config.errorTextParent))&&((i=n.querySelector(".pristine-error"))||((i=document.createElement(o.config.errorTextTag)).className="pristine-error "+o.config.errorTextClass,n.appendChild(i),i.pristineDisplay=i.style.display)),e.errorElements=[t,i]}function u(e){var t=c(e),n=t[0],i=t[1];n&&(n.classList.remove(o.config.successClass),n.classList.add(o.config.errorClass)),i&&(i.innerHTML=e.errors.join("<br/>"),i.style.display=i.pristineDisplay||"")}function h(e){var t=function(e){var t=c(e),n=t[0],i=t[1];return n&&(n.classList.remove(o.config.errorClass),n.classList.remove(o.config.successClass)),i&&(i.innerHTML="",i.style.display="none"),t}(e)[0];t&&t.classList.add(o.config.successClass)}return function(e,t,n){e.setAttribute("novalidate","true"),o.form=e,o.config=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e}(t||{},i),o.live=!(!1===n),o.fields=Array.from(e.querySelectorAll("input:not([type^=hidden]):not([type^=submit]), select, textarea")).map(function(e){var t=[],n={},i={};return[].forEach.call(e.attributes,(function(e){if(/^data-pristine-/.test(e.name)){var s=e.name.substr(14);if(s.endsWith("-message"))return void(i[s.slice(0,s.length-8)]=e.value);"type"===s&&(s=e.value),l(t,n,s,e.value)}else~a.indexOf(e.name)?l(t,n,e.name,e.value):"type"===e.name&&l(t,n,e.value)})),t.sort((function(e,t){return t.priority-e.priority})),o.live&&e.addEventListener(~["radio","checkbox"].indexOf(e.getAttribute("type"))?"change":"input",function(e){o.validate(e.target)}.bind(o)),e.pristine={input:e,validators:t,params:n,messages:i,self:o}}.bind(o))}(e,n,s),o.validate=function(e,t){t=e&&!0===t||!0===e;var n=o.fields;!0!==e&&!1!==e&&(e instanceof HTMLElement?n=[e.pristine]:(e instanceof NodeList||e instanceof(window.$||Array)||e instanceof Array)&&(n=Array.from(e).map((function(e){return e.pristine}))));for(var i=!0,a=0;n[a];a++){var s=n[a];d(s)?!t&&h(s):(i=!1,!t&&u(s))}return i},o.getErrors=function(e){if(!e){for(var t=[],n=0;n<o.fields.length;n++){var i=o.fields[n];i.errors.length&&t.push({input:i.input,errors:i.errors})}return t}return e.tagName&&"select"===e.tagName.toLowerCase()?e.pristine.errors:e.length?e[0].pristine.errors:e.pristine.errors},o.addValidator=function(e,t,n,i,a){e instanceof HTMLElement?(e.pristine.validators.push({fn:t,msg:n,priority:i,halt:a}),e.pristine.validators.sort((function(e,t){return t.priority-e.priority}))):console.warn("The parameter elem must be a dom element")},o.addError=function(e,t){(e=e.length?e[0]:e).pristine.errors.push(t),u(e.pristine)},o.reset=function(){for(var e=0;o.fields[e];e++)o.fields[e].errorElements=null;Array.from(o.form.querySelectorAll(".pristine-error")).map((function(e){e.parentNode.removeChild(e)})),Array.from(o.form.querySelectorAll("."+o.config.classTo)).map((function(e){e.classList.remove(o.config.successClass),e.classList.remove(o.config.errorClass)}))},o.destroy=function(){o.reset(),o.fields.forEach((function(e){delete e.input.pristine})),o.fields=[]},o.setGlobalConfig=function(e){i=e},o}return o("text",{fn:function(e){return!0},priority:0}),o("required",{fn:function(e){return"radio"===this.type||"checkbox"===this.type?n(this):void 0!==e&&""!==e},priority:99,halt:!0}),o("email",{fn:function(e){return!e||s.test(e)}}),o("number",{fn:function(e){return!e||!isNaN(parseFloat(e))},priority:2}),o("integer",{fn:function(e){return!e||/^\d+$/.test(e)}}),o("minlength",{fn:function(e,t){return!e||e.length>=parseInt(t)}}),o("maxlength",{fn:function(e,t){return!e||e.length<=parseInt(t)}}),o("min",{fn:function(e,t){return!e||("checkbox"===this.type?n(this)>=parseInt(t):parseFloat(e)>=parseFloat(t))}}),o("max",{fn:function(e,t){return!e||("checkbox"===this.type?n(this)<=parseInt(t):parseFloat(e)<=parseFloat(t))}}),o("pattern",{fn:function(e,t){var n=t.match(new RegExp("^/(.*?)/([gimy]*)$"));return!e||new RegExp(n[1],n[2]).test(e)}}),l.addValidator=function(e,t,n,i,a){o(e,{fn:t,msg:n,priority:i,halt:a})},l}));